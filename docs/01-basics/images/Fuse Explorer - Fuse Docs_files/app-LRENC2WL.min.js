import{a as Or}from"https://app.gitbook.com/public/app/chunks/chunk-K6V4EWVN.min.js";import{a as Y,b as pn,c as os}from"https://app.gitbook.com/public/app/chunks/chunk-EG4CTWXN.min.js";import{a as us}from"https://app.gitbook.com/public/app/chunks/chunk-NRQDU5A6.min.js";import{$ as He,$b as xs,Ab as ls,Ba as xe,Ca as Ga,Cc as Gs,Da as qa,Dc as qs,Ea as Xa,Eb as fs,Fa as cn,Fb as mn,Fc as Xs,Ga as Ya,Gb as hn,Gc as Ys,Ha as Ka,Hb as ds,Ia as Pr,Ib as st,Ic as Ks,Ja as $a,Jb as Mo,Ka as Za,La as at,Lb as ps,Ma as Qa,Mc as $s,N as St,Na as Ht,Nb as ms,Nc as Zs,Oa as Ja,Ob as hs,Oc as Qs,Pa as es,Pb as gs,Pc as vn,Qb as H,R as ya,Rb as vs,Rc as Wt,Sb as ys,Sc as yn,Tb as bs,Va as ts,Vb as Ss,Vc as Js,Wa as ln,Wb as ws,Wc as ec,X as Ra,Xa as un,Xb as Cs,Ya as Ct,Z as Ea,Zb as Ps,Zc as _e,_ as Da,_b as Rs,a as ia,aa as Ma,ab as rs,ac as Os,b as ca,bb as Rr,bc as Ts,cc as Is,dc as Es,dd as tc,ea as za,ec as Ds,ed as Tr,fc as _s,gc as ks,gd as Ir,ha as Fa,hc as As,hd as zo,ia as an,ic as Ls,ja as sn,jb as xr,lb as fn,mb as dn,na as Ha,nb as ns,nc as Ns,nd as rc,oc as Ms,od as nc,pc as ie,qc as ct,rb as No,rc as zs,sc as Bt,tc as Vs,ud as oc,va as ja,vc as Bs,vd as ic,wc as js,wd as ac,xa as Ua,xb as as,xd as Vo,y as ga,ya as Wa,yb as ss,yd as lt,zb as cs,zc as Ws}from"https://app.gitbook.com/public/app/chunks/chunk-U4D5K6CM.min.js";import{$b as ue,Bc as gn,Db as ot,Dc as jt,Ec as Ut,I as ua,Ic as be,Jb as Vt,Jc as Us,Na as da,Pb as va,Rb as Ao,Sa as en,Ua as pa,Za as ma,a as zt,aa as Jr,ab as ha,c as ra,d as ko,e as Ye,ec as _a,f as Qr,g as na,kc as is,l as oa,m as aa,n as sa,o as la,sc as Be,wc as Fs,xc as Hs}from"https://app.gitbook.com/public/app/chunks/chunk-BEITZR4B.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-HCFMPDL2.min.js";import{b as qf}from"https://app.gitbook.com/public/app/chunks/chunk-ET62POQV.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-RNBYS32N.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-H4EX6CI3.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-QMNFA3XW.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-F2V2WJMO.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-52TWLEN4.min.js";import{a as nt}from"https://app.gitbook.com/public/app/chunks/chunk-M6EXQKLV.min.js";import{A as it,B as Aa,C as Ke,F as nn,M as Na,N as on,O as Va,V as he,W as Ba,b as Ft,g as Pa,h as Lo,i as xa,l as rn,o as Oa,p as Ta,q as Ze,r as Cr,s as Ia,v as Qe,w as De,y as R}from"https://app.gitbook.com/public/app/chunks/chunk-WMDGER2N.min.js";import{a as tn,b as Gf,c as La}from"https://app.gitbook.com/public/app/chunks/chunk-67JOPAUQ.min.js";import{a as Wf}from"https://app.gitbook.com/public/app/chunks/chunk-4MYRUKCN.min.js";import{c as ka}from"https://app.gitbook.com/public/app/chunks/chunk-QOFX36RM.min.js";import{$ as p,A as $r,B as Io,E as Zr,F as ea,H as Eo,K as Do,L as Z,N as ta,S as _o,T as rt,U as Mt,Z as wr,_ as M,aa as I,ga as wt,k as Xe,ka as ba,m as x,ma as Sa,na as wa,oa as j,qa as Ca,ra as me,s as v,sa as re,x as Ji,y as te}from"https://app.gitbook.com/public/app/chunks/chunk-BZPLOODV.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-F3LGLRSV.min.js";import"https://app.gitbook.com/public/app/chunks/chunk-4XAGFOTT.min.js";import{a as fa,b as we}from"https://app.gitbook.com/public/app/chunks/chunk-ONZFKK7X.min.js";import{c as qe,e as P,f as To,l as a}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";var Zc=qe(En=>{"use strict";a();var xd=x(),Od=Symbol.for("react.element"),Td=Symbol.for("react.fragment"),Id=Object.prototype.hasOwnProperty,Ed=xd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dd={key:!0,ref:!0,__self:!0,__source:!0};function $c(t,r,e){var n,o={},i=null,s=null;e!==void 0&&(i=""+e),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(s=r.ref);for(n in r)Id.call(r,n)&&!Dd.hasOwnProperty(n)&&(o[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:Od,type:t,key:i,ref:s,props:o,_owner:Ed.current}}En.Fragment=Td;En.jsx=$c;En.jsxs=$c});var Jc=qe((qy,Qc)=>{"use strict";a();Qc.exports=Zc()});var Ju=qe(Mi=>{"use strict";a();Object.defineProperty(Mi,"__esModule",{value:!0});var gm={justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"transparent"};Mi.default={container:gm}});var zi=qe(gr=>{"use strict";a();Object.defineProperty(gr,"__esModule",{value:!0});gr.ImageZoomState=gr.ImageZoomProps=void 0;var vm=function(){function t(){this.cropWidth=100,this.cropHeight=100,this.imageWidth=100,this.imageHeight=100,this.panToMove=!0,this.pinchToZoom=!0,this.enableDoubleClickZoom=!0,this.clickDistance=10,this.maxOverflow=100,this.longPressTime=800,this.doubleClickInterval=175,this.style={},this.swipeDownThreshold=230,this.enableSwipeDown=!1,this.enableCenterFocus=!0,this.useHardwareTextureAndroid=!0,this.minScale=.6,this.maxScale=10,this.useNativeDriver=!1,this.onClick=function(){},this.onDoubleClick=function(){},this.onLongPress=function(){},this.horizontalOuterRangeOffset=function(){},this.onDragLeft=function(){},this.responderRelease=function(){},this.onMove=function(){},this.layoutChange=function(){},this.onSwipeDown=function(){},this.onStartShouldSetPanResponder=function(){return!0},this.onPanResponderTerminationRequest=function(){return!1}}return t}();gr.ImageZoomProps=vm;var ym=function(){function t(){this.centerX=.5,this.centerY=.5}return t}();gr.ImageZoomState=ym});var tf=qe(kt=>{"use strict";a();var bm=kt&&kt.__extends||function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i])},t(r,e)};return function(r,e){t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wr=kt&&kt.__assign||function(){return Wr=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Wr.apply(this,arguments)};Object.defineProperty(kt,"__esModule",{value:!0});var so=x(),se=(Z(),To(Do)),Sm=Ju(),ef=zi(),wm=function(t){bm(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new ef.ImageZoomState,e.lastPositionX=null,e.positionX=0,e.animatedPositionX=new se.Animated.Value(0),e.lastPositionY=null,e.positionY=0,e.animatedPositionY=new se.Animated.Value(0),e.scale=1,e.animatedScale=new se.Animated.Value(1),e.zoomLastDistance=null,e.zoomCurrentDistance=0,e.lastTouchStartTime=0,e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.centerDiffX=0,e.centerDiffY=0,e.lastClickTime=0,e.doubleClickX=0,e.doubleClickY=0,e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.imagePanResponder=se.PanResponder.create({onStartShouldSetPanResponder:e.props.onStartShouldSetPanResponder,onPanResponderTerminationRequest:e.props.onPanResponderTerminationRequest,onMoveShouldSetPanResponder:e.props.onMoveShouldSetPanResponder,onPanResponderGrant:function(n){if(e.lastPositionX=null,e.lastPositionY=null,e.zoomLastDistance=null,e.horizontalWholeCounter=0,e.verticalWholeCounter=0,e.lastTouchStartTime=new Date().getTime(),e.isDoubleClick=!1,e.isLongPress=!1,e.isHorizontalWrap=!1,e.singleClickTimeout&&clearTimeout(e.singleClickTimeout),n.nativeEvent.changedTouches.length>1){var o=(n.nativeEvent.changedTouches[0].pageX+n.nativeEvent.changedTouches[1].pageX)/2;e.centerDiffX=o-e.props.cropWidth/2;var i=(n.nativeEvent.changedTouches[0].pageY+n.nativeEvent.changedTouches[1].pageY)/2;e.centerDiffY=i-e.props.cropHeight/2}e.longPressTimeout&&clearTimeout(e.longPressTimeout);var s=n.nativeEvent,c=s.locationX,f=s.locationY,u=s.pageX,l=s.pageY;if(e.longPressTimeout=setTimeout(function(){e.isLongPress=!0,e.props.onLongPress&&e.props.onLongPress({locationX:c,locationY:f,pageX:u,pageY:l})},e.props.longPressTime),n.nativeEvent.changedTouches.length<=1)if(new Date().getTime()-e.lastClickTime<(e.props.doubleClickInterval||0)){if(e.lastClickTime=0,e.doubleClickX=n.nativeEvent.changedTouches[0].pageX,e.doubleClickY=n.nativeEvent.changedTouches[0].pageY,e.props.onDoubleClick&&e.props.onDoubleClick({locationX:n.nativeEvent.changedTouches[0].locationX,locationY:n.nativeEvent.changedTouches[0].locationY,pageX:e.doubleClickX,pageY:e.doubleClickY}),clearTimeout(e.longPressTimeout),e.isDoubleClick=!0,e.props.enableDoubleClickZoom){if(e.scale>1||e.scale<1)e.scale=1,e.positionX=0,e.positionY=0;else{var d=e.scale;e.scale=2;var h=e.scale-d;e.positionX=(e.props.cropWidth/2-e.doubleClickX)*h/e.scale,e.positionY=(e.props.cropHeight/2-e.doubleClickY)*h/e.scale}e.imageDidMove("centerOn"),se.Animated.parallel([se.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100,useNativeDriver:!!e.props.useNativeDriver}),se.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}),se.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver})]).start()}}else e.lastClickTime=new Date().getTime()},onPanResponderMove:function(n,o){if(!e.isDoubleClick){if(n.nativeEvent.changedTouches.length<=1){var i=o.dx-(e.lastPositionX||0);e.lastPositionX===null&&(i=0);var s=o.dy-(e.lastPositionY||0);if(e.lastPositionY===null&&(s=0),e.lastPositionX=o.dx,e.lastPositionY=o.dy,e.horizontalWholeCounter+=i,e.verticalWholeCounter+=s,(Math.abs(e.horizontalWholeCounter)>5||Math.abs(e.verticalWholeCounter)>5)&&clearTimeout(e.longPressTimeout),e.props.panToMove){if(e.swipeDownOffset===0){if(Math.abs(i)>Math.abs(s)&&(e.isHorizontalWrap=!0),e.props.imageWidth*e.scale>e.props.cropWidth){e.horizontalWholeOuterCounter>0?i<0?e.horizontalWholeOuterCounter>Math.abs(i)?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i:e.horizontalWholeOuterCounter<0&&(i>0?Math.abs(e.horizontalWholeOuterCounter)>i?(e.horizontalWholeOuterCounter+=i,i=0):(i+=e.horizontalWholeOuterCounter,e.horizontalWholeOuterCounter=0,e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(0)):e.horizontalWholeOuterCounter+=i),e.positionX+=i/e.scale;var c=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-c?(e.positionX=-c,e.horizontalWholeOuterCounter+=-1/1e10):e.positionX>c&&(e.positionX=c,e.horizontalWholeOuterCounter+=1/1e10),e.animatedPositionX.setValue(e.positionX)}else e.horizontalWholeOuterCounter+=i;e.horizontalWholeOuterCounter>(e.props.maxOverflow||0)?e.horizontalWholeOuterCounter=e.props.maxOverflow||0:e.horizontalWholeOuterCounter<-(e.props.maxOverflow||0)&&(e.horizontalWholeOuterCounter=-(e.props.maxOverflow||0)),e.horizontalWholeOuterCounter!==0&&e.props.horizontalOuterRangeOffset&&e.props.horizontalOuterRangeOffset(e.horizontalWholeOuterCounter)}e.props.imageHeight*e.scale>e.props.cropHeight?(e.positionY+=s/e.scale,e.animatedPositionY.setValue(e.positionY)):e.props.enableSwipeDown&&!e.isHorizontalWrap&&(e.swipeDownOffset+=s,e.swipeDownOffset>0&&(e.positionY+=s/e.scale,e.animatedPositionY.setValue(e.positionY),e.scale=e.scale-s/1e3,e.animatedScale.setValue(e.scale)))}}else if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),e.props.pinchToZoom){var f=void 0,u=void 0;n.nativeEvent.changedTouches[0].locationX>n.nativeEvent.changedTouches[1].locationX?(f=n.nativeEvent.changedTouches[1].pageX,u=n.nativeEvent.changedTouches[0].pageX):(f=n.nativeEvent.changedTouches[0].pageX,u=n.nativeEvent.changedTouches[1].pageX);var l=void 0,d=void 0;n.nativeEvent.changedTouches[0].locationY>n.nativeEvent.changedTouches[1].locationY?(l=n.nativeEvent.changedTouches[1].pageY,d=n.nativeEvent.changedTouches[0].pageY):(l=n.nativeEvent.changedTouches[0].pageY,d=n.nativeEvent.changedTouches[1].pageY);var h=u-f,C=d-l,b=Math.sqrt(h*h+C*C);if(e.zoomCurrentDistance=Number(b.toFixed(1)),e.zoomLastDistance!==null){var g=(e.zoomCurrentDistance-e.zoomLastDistance)/200,w=e.scale+g;w<(e.props.minScale||0)&&(w=e.props.minScale||0),w>(e.props.maxScale||0)&&(w=e.props.maxScale||0);var y=e.scale;e.scale=w,e.animatedScale.setValue(e.scale);var E=e.scale-y;e.positionX-=e.centerDiffX*E/e.scale,e.positionY-=e.centerDiffY*E/e.scale,e.animatedPositionX.setValue(e.positionX),e.animatedPositionY.setValue(e.positionY)}e.zoomLastDistance=e.zoomCurrentDistance}e.imageDidMove("onPanResponderMove")}},onPanResponderRelease:function(n,o){if(e.longPressTimeout&&clearTimeout(e.longPressTimeout),!e.isDoubleClick&&!e.isLongPress){var i=Math.sqrt(o.dx*o.dx+o.dy*o.dy),s=n.nativeEvent,c=s.locationX,f=s.locationY,u=s.pageX,l=s.pageY;n.nativeEvent.changedTouches.length===1&&i<(e.props.clickDistance||0)?e.singleClickTimeout=setTimeout(function(){e.props.onClick&&e.props.onClick({locationX:c,locationY:f,pageX:u,pageY:l})},e.props.doubleClickInterval):(e.props.responderRelease&&e.props.responderRelease(o.vx,e.scale),e.panResponderReleaseResolve())}},onPanResponderTerminate:function(){}}),e.resetScale=function(){e.positionX=0,e.positionY=0,e.scale=1,e.animatedScale.setValue(1)},e.panResponderReleaseResolve=function(){if(e.props.enableSwipeDown&&e.props.swipeDownThreshold&&e.swipeDownOffset>e.props.swipeDownThreshold){e.props.onSwipeDown&&e.props.onSwipeDown();return}if(e.props.enableCenterFocus&&e.scale<1&&(e.scale=1,se.Animated.timing(e.animatedScale,{toValue:e.scale,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.props.imageWidth*e.scale<=e.props.cropWidth&&(e.positionX=0,se.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.props.imageHeight*e.scale<=e.props.cropHeight&&(e.positionY=0,se.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.props.imageHeight*e.scale>e.props.cropHeight){var n=(e.props.imageHeight*e.scale-e.props.cropHeight)/2/e.scale;e.positionY<-n?e.positionY=-n:e.positionY>n&&(e.positionY=n),se.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()}if(e.props.imageWidth*e.scale>e.props.cropWidth){var o=(e.props.imageWidth*e.scale-e.props.cropWidth)/2/e.scale;e.positionX<-o?e.positionX=-o:e.positionX>o&&(e.positionX=o),se.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()}e.props.enableCenterFocus&&e.scale===1&&(e.positionX=0,e.positionY=0,se.Animated.timing(e.animatedPositionX,{toValue:e.positionX,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start(),se.Animated.timing(e.animatedPositionY,{toValue:e.positionY,duration:100,useNativeDriver:!!e.props.useNativeDriver}).start()),e.horizontalWholeOuterCounter=0,e.swipeDownOffset=0,e.imageDidMove("onPanResponderRelease")},e}return r.prototype.componentDidMount=function(){this.props.centerOn&&this.centerOn(this.props.centerOn)},r.prototype.componentDidUpdate=function(e){(this.props.centerOn&&!e.centerOn||this.props.centerOn&&e.centerOn&&this.didCenterOnChange(e.centerOn,this.props.centerOn))&&this.centerOn(this.props.centerOn)},r.prototype.imageDidMove=function(e){this.props.onMove&&this.props.onMove({type:e,positionX:this.positionX,positionY:this.positionY,scale:this.scale,zoomCurrentDistance:this.zoomCurrentDistance})},r.prototype.didCenterOnChange=function(e,n){return e.x!==n.x||e.y!==n.y||e.scale!==n.scale},r.prototype.centerOn=function(e){var n=this;this.positionX=e.x,this.positionY=e.y,this.scale=e.scale;var o=e.duration||300;se.Animated.parallel([se.Animated.timing(this.animatedScale,{toValue:this.scale,duration:o,useNativeDriver:!!this.props.useNativeDriver}),se.Animated.timing(this.animatedPositionX,{toValue:this.positionX,duration:o,useNativeDriver:!!this.props.useNativeDriver}),se.Animated.timing(this.animatedPositionY,{toValue:this.positionY,duration:o,useNativeDriver:!!this.props.useNativeDriver})]).start(function(){n.imageDidMove("centerOn")})},r.prototype.handleLayout=function(e){this.props.layoutChange&&this.props.layoutChange(e)},r.prototype.reset=function(){this.scale=1,this.animatedScale.setValue(this.scale),this.positionX=0,this.animatedPositionX.setValue(this.positionX),this.positionY=0,this.animatedPositionY.setValue(this.positionY)},r.prototype.render=function(){var e={transform:[{scale:this.animatedScale},{translateX:this.animatedPositionX},{translateY:this.animatedPositionY}]},n=se.StyleSheet.flatten(this.props.style);return so.createElement(se.View,{style:Wr(Wr(Wr({},Sm.default.container),n),{width:this.props.cropWidth,height:this.props.cropHeight}),...this.imagePanResponder.panHandlers},so.createElement(se.Animated.View,{style:e,renderToHardwareTextureAndroid:this.props.useHardwareTextureAndroid},so.createElement(se.View,{onLayout:this.handleLayout.bind(this),style:{width:this.props.imageWidth,height:this.props.imageHeight}},this.props.children)))},r.defaultProps=new ef.ImageZoomProps,r}(so.Component);kt.default=wm});var rf=qe(gt=>{"use strict";a();var Cm=gt&&gt.__createBinding||(Object.create?function(t,r,e,n){n===void 0&&(n=e),Object.defineProperty(t,n,{enumerable:!0,get:function(){return r[e]}})}:function(t,r,e,n){n===void 0&&(n=e),t[n]=r[e]}),Pm=gt&&gt.__exportStar||function(t,r){for(var e in t)e!=="default"&&!r.hasOwnProperty(e)&&Cm(r,t,e)};Object.defineProperty(gt,"__esModule",{value:!0});var Rm=tf();gt.default=Rm.default;Pm(zi(),gt)});var Vi=qe(co=>{"use strict";a();Object.defineProperty(co,"__esModule",{value:!0});co.default=function(t,r,e){return{modalContainer:{backgroundColor:e,justifyContent:"center",alignItems:"center",overflow:"hidden"},watchOrigin:{position:"absolute",width:t,bottom:20,justifyContent:"center",alignItems:"center"},watchOriginTouchable:{paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,borderRadius:30,borderColor:"white",borderWidth:.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},watchOriginText:{color:"white",backgroundColor:"transparent"},imageStyle:{},container:{backgroundColor:e},moveBox:{flexDirection:"row",alignItems:"center"},menuContainer:{position:"absolute",width:t,height:r,left:0,bottom:0,zIndex:12},menuShadow:{position:"absolute",width:t,height:r,backgroundColor:"black",left:0,bottom:0,opacity:.2,zIndex:10},menuContent:{position:"absolute",width:t,left:0,bottom:0,zIndex:11},operateContainer:{justifyContent:"center",alignItems:"center",backgroundColor:"white",height:40,borderBottomColor:"#ccc",borderBottomWidth:1},operateText:{color:"#333"},loadingTouchable:{width:t,height:r},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},arrowLeftContainer:{position:"absolute",top:0,bottom:0,left:0,justifyContent:"center",zIndex:13},arrowRightContainer:{position:"absolute",top:0,bottom:0,right:0,justifyContent:"center",zIndex:13}}};co.simpleStyle={count:{position:"absolute",left:0,right:0,top:38,zIndex:13,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},countText:{color:"white",fontSize:16,backgroundColor:"transparent",textShadowColor:"rgba(0, 0, 0, 0.3)",textShadowOffset:{width:0,height:.5},textShadowRadius:0}}});var Bi=qe(lo=>{"use strict";a();Object.defineProperty(lo,"__esModule",{value:!0});var Fi=x(),Hi=(Z(),To(Do)),nf=Vi(),xm=function(){function t(){this.show=!1,this.imageUrls=[],this.flipThreshold=80,this.maxOverflow=300,this.index=0,this.failImageSource=void 0,this.backgroundColor="black",this.footerContainerStyle={},this.menuContext={saveToLocal:"save to the album",cancel:"cancel"},this.saveToLocalByLongPress=!0,this.enableImageZoom=!0,this.style={},this.enableSwipeDown=!1,this.enablePreload=!1,this.pageAnimateTime=100,this.useNativeDriver=!1,this.onLongPress=function(){},this.onClick=function(){},this.onDoubleClick=function(){},this.onSave=function(){},this.onMove=function(){},this.renderHeader=function(){return null},this.renderFooter=function(){return null},this.renderIndicator=function(r,e){return Fi.createElement(Hi.View,{style:nf.simpleStyle.count},Fi.createElement(Hi.Text,{style:nf.simpleStyle.countText},r+"/"+e))},this.renderImage=function(r){return Fi.createElement(Hi.Image,r)},this.renderArrowLeft=function(){return null},this.renderArrowRight=function(){return null},this.onShowModal=function(){},this.onCancel=function(){},this.onSwipeDown=function(){},this.loadingRender=function(){return null},this.onSaveToCamera=function(){},this.onChange=function(){}}return t}();lo.Props=xm;var Om=function(){function t(){this.show=!1,this.currentShowIndex=0,this.prevIndexProp=0,this.imageLoaded=!1,this.imageSizes=[],this.isShowMenu=!1}return t}();lo.State=Om});var sf=qe(tt=>{"use strict";a();var Tm=tt&&tt.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n])};return function(r,e){t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),At=tt&&tt.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Im=tt&&tt.__rest||function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)r.indexOf(n[o])<0&&(e[n[o]]=t[n[o]]);return e};Object.defineProperty(tt,"__esModule",{value:!0});var X=x(),V=(Z(),To(Do)),of=rf(),af=Vi(),ji=Bi(),Em=function(t){Tm(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.state=new ji.State,e.fadeAnim=new V.Animated.Value(0),e.standardPositionX=0,e.positionXNumber=0,e.positionX=new V.Animated.Value(0),e.width=0,e.height=0,e.styles=af.default(0,0,"transparent"),e.hasLayout=!1,e.loadedIndex=new Map,e.handleLongPressWithIndex=new Map,e.imageRefs=[],e.resetImageByIndex=function(n){e.imageRefs[n]&&e.imageRefs[n].reset()},e.preloadImage=function(n){n<e.state.imageSizes.length&&e.loadImage(n+1)},e.handleHorizontalOuterRangeOffset=function(n){n===void 0&&(n=0),e.positionXNumber=e.standardPositionX+n,e.positionX.setValue(e.positionXNumber);var o=V.I18nManager.isRTL?-n:n;o<0?(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1):o>0&&(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1)},e.handleResponderRelease=function(n){n===void 0&&(n=0);var o=V.I18nManager.isRTL?-n:n,i=V.I18nManager.isRTL?e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0),s=V.I18nManager.isRTL?e.positionXNumber-e.standardPositionX>(e.props.flipThreshold||0):e.positionXNumber-e.standardPositionX<-(e.props.flipThreshold||0);if(o>.7){e.goBack.call(e),(e.state.currentShowIndex||0>0)&&e.loadImage((e.state.currentShowIndex||0)-1);return}else if(o<-.7){e.goNext.call(e),(e.state.currentShowIndex||0<e.props.imageUrls.length-1)&&e.loadImage((e.state.currentShowIndex||0)+1);return}if(i)e.goBack.call(e);else if(s){e.goNext.call(e);return}else{e.resetPosition.call(e);return}},e.goBack=function(){if(e.state.currentShowIndex===0){e.resetPosition.call(e);return}e.positionXNumber=V.I18nManager.isRTL?e.standardPositionX-e.width:e.standardPositionX+e.width,e.standardPositionX=e.positionXNumber,V.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime,useNativeDriver:!!e.props.useNativeDriver}).start();var n=(e.state.currentShowIndex||0)-1;e.setState({currentShowIndex:n},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.goNext=function(){if(e.state.currentShowIndex===e.props.imageUrls.length-1){e.resetPosition.call(e);return}e.positionXNumber=V.I18nManager.isRTL?e.standardPositionX+e.width:e.standardPositionX-e.width,e.standardPositionX=e.positionXNumber,V.Animated.timing(e.positionX,{toValue:e.positionXNumber,duration:e.props.pageAnimateTime,useNativeDriver:!!e.props.useNativeDriver}).start();var n=(e.state.currentShowIndex||0)+1;e.setState({currentShowIndex:n},function(){e.props.onChange&&e.props.onChange(e.state.currentShowIndex)})},e.handleLongPress=function(n){e.props.saveToLocalByLongPress&&e.setState({isShowMenu:!0}),e.props.onLongPress&&e.props.onLongPress(n)},e.handleClick=function(){e.props.onClick&&e.props.onClick(e.handleCancel,e.state.currentShowIndex)},e.handleDoubleClick=function(){e.props.onDoubleClick&&e.props.onDoubleClick(e.handleCancel)},e.handleCancel=function(){e.hasLayout=!1,e.props.onCancel&&e.props.onCancel()},e.handleLayout=function(n){n.nativeEvent.layout.width!==e.width&&(e.hasLayout=!0,e.width=n.nativeEvent.layout.width,e.height=n.nativeEvent.layout.height,e.styles=af.default(e.width,e.height,e.props.backgroundColor||"transparent"),e.forceUpdate(),e.jumpToCurrentImage())},e.saveToLocal=function(){e.props.onSave?e.props.onSave(e.props.imageUrls[e.state.currentShowIndex||0].url):(V.CameraRoll.saveToCameraRoll(e.props.imageUrls[e.state.currentShowIndex||0].url),e.props.onSaveToCamera(e.state.currentShowIndex)),e.setState({isShowMenu:!1})},e.handleLeaveMenu=function(){e.setState({isShowMenu:!1})},e.handleSwipeDown=function(){e.props.onSwipeDown&&e.props.onSwipeDown(),e.handleCancel()},e}return r.prototype.componentDidMount=function(){this.init(this.props)},r.getDerivedStateFromProps=function(e,n){return e.index!==n.prevIndexProp?{currentShowIndex:e.index,prevIndexProp:e.index}:null},r.prototype.componentDidUpdate=function(e,n){e.index!==this.props.index&&(this.loadImage(this.props.index||0),this.jumpToCurrentImage(),V.Animated.timing(this.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!this.props.useNativeDriver}).start())},r.prototype.init=function(e){var n=this;if(e.imageUrls.length===0)return this.fadeAnim.setValue(0),this.setState(new ji.State);var o=[];e.imageUrls.forEach(function(i){o.push({width:i.width||0,height:i.height||0,status:"loading"})}),this.setState({currentShowIndex:e.index,prevIndexProp:e.index||0,imageSizes:o},function(){n.loadImage(e.index||0),n.jumpToCurrentImage(),V.Animated.timing(n.fadeAnim,{toValue:1,duration:200,useNativeDriver:!!e.useNativeDriver}).start()})},r.prototype.jumpToCurrentImage=function(){this.positionXNumber=this.width*(this.state.currentShowIndex||0)*(V.I18nManager.isRTL?1:-1),this.standardPositionX=this.positionXNumber,this.positionX.setValue(this.positionXNumber)},r.prototype.loadImage=function(e){var n=this;if(this.state.imageSizes[e]&&!this.loadedIndex.has(e)){this.loadedIndex.set(e,!0);var o=this.props.imageUrls[e],i=At({},this.state.imageSizes[e]),s=function(){if(!(n.state.imageSizes[e]&&n.state.imageSizes[e].status!=="loading")){var u=n.state.imageSizes.slice();u[e]=i,n.setState({imageSizes:u})}};if(this.state.imageSizes[e].status!=="success"){if(this.state.imageSizes[e].width>0&&this.state.imageSizes[e].height>0){i.status="success",s();return}var c=!1,f=!1;if((!o.url||o.url.startsWith("file:"))&&(f=!0),o.width&&o.height){this.props.enablePreload&&f===!1&&V.Image.prefetch(o.url),i.width=o.width,i.height=o.height,i.status="success",s();return}V.Image.getSize(o.url,function(u,l){i.width=u,i.height=l,i.status="success",s()},function(){try{var u=V.Image.resolveAssetSource(o.props.source);i.width=u.width,i.height=u.height,i.status="success",s()}catch(l){i.status="fail",s()}})}}},r.prototype.resetPosition=function(){this.positionXNumber=this.standardPositionX,V.Animated.timing(this.positionX,{toValue:this.standardPositionX,duration:150,useNativeDriver:!!this.props.useNativeDriver}).start()},r.prototype.getContent=function(){var e=this,n=this.width,o=this.height,i=this.props.imageUrls.map(function(s,c){if((e.state.currentShowIndex||0)>c+1||(e.state.currentShowIndex||0)<c-1)return X.createElement(V.View,{key:c,style:{width:n,height:o}});e.handleLongPressWithIndex.has(c)||e.handleLongPressWithIndex.set(c,e.handleLongPress.bind(e,s));var f=e.state.imageSizes[c]&&e.state.imageSizes[c].width,u=e.state.imageSizes[c]&&e.state.imageSizes[c].height,l=e.state.imageSizes[c];if(!l||!l.status)return X.createElement(V.View,{key:c,style:{width:n,height:o}});if(f>n){var d=n/f;f*=d,u*=d}if(u>o){var h=o/u;f*=h,u*=h}var C=function(b){var g=b.children,w=Im(b,["children"]);return X.createElement(of.default,{cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(c),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,pinchToZoom:e.props.enableImageZoom,enableDoubleClickZoom:e.props.enableImageZoom,doubleClickInterval:e.props.doubleClickInterval,...w},g)};switch(l.status){case"loading":return X.createElement(C,{key:c,style:At({},e.styles.modalContainer,e.styles.loadingContainer),imageWidth:n,imageHeight:o},X.createElement(V.View,{style:e.styles.loadingContainer},e.props.loadingRender()));case"success":return s.props||(s.props={}),s.props.style||(s.props.style={}),s.props.style=At({},e.styles.imageStyle,s.props.style,{width:f,height:u}),typeof s.props.source=="number"||(s.props.source||(s.props.source={}),s.props.source=At({uri:s.url},s.props.source)),e.props.enablePreload&&e.preloadImage(e.state.currentShowIndex||0),X.createElement(of.default,{key:c,ref:function(b){return e.imageRefs[c]=b},cropWidth:e.width,cropHeight:e.height,maxOverflow:e.props.maxOverflow,horizontalOuterRangeOffset:e.handleHorizontalOuterRangeOffset,responderRelease:e.handleResponderRelease,onMove:e.props.onMove,onLongPress:e.handleLongPressWithIndex.get(c),onClick:e.handleClick,onDoubleClick:e.handleDoubleClick,imageWidth:f,imageHeight:u,enableSwipeDown:e.props.enableSwipeDown,swipeDownThreshold:e.props.swipeDownThreshold,onSwipeDown:e.handleSwipeDown,panToMove:!e.state.isShowMenu,pinchToZoom:e.props.enableImageZoom&&!e.state.isShowMenu,enableDoubleClickZoom:e.props.enableImageZoom&&!e.state.isShowMenu,doubleClickInterval:e.props.doubleClickInterval,minScale:e.props.minScale,maxScale:e.props.maxScale},e.props.renderImage(s.props));case"fail":return X.createElement(C,{key:c,style:e.styles.modalContainer,imageWidth:e.props.failImageSource?e.props.failImageSource.width:n,imageHeight:e.props.failImageSource?e.props.failImageSource.height:o},e.props.failImageSource&&e.props.renderImage({source:{uri:e.props.failImageSource.url},style:{width:e.props.failImageSource.width,height:e.props.failImageSource.height}}))}});return X.createElement(V.Animated.View,{style:{zIndex:9}},X.createElement(V.Animated.View,{style:At({},this.styles.container,{opacity:this.fadeAnim})},this.props.renderHeader(this.state.currentShowIndex),X.createElement(V.View,{style:this.styles.arrowLeftContainer},X.createElement(V.TouchableWithoutFeedback,{onPress:this.goBack},X.createElement(V.View,null,this.props.renderArrowLeft()))),X.createElement(V.View,{style:this.styles.arrowRightContainer},X.createElement(V.TouchableWithoutFeedback,{onPress:this.goNext},X.createElement(V.View,null,this.props.renderArrowRight()))),X.createElement(V.Animated.View,{style:At({},this.styles.moveBox,{transform:[{translateX:this.positionX}],width:this.width*this.props.imageUrls.length})},i),this.props.renderIndicator((this.state.currentShowIndex||0)+1,this.props.imageUrls.length),this.props.imageUrls[this.state.currentShowIndex||0]&&this.props.imageUrls[this.state.currentShowIndex||0].originSizeKb&&this.props.imageUrls[this.state.currentShowIndex||0].originUrl&&X.createElement(V.View,{style:this.styles.watchOrigin},X.createElement(V.TouchableOpacity,{style:this.styles.watchOriginTouchable},X.createElement(V.Text,{style:this.styles.watchOriginText},"\u67E5\u770B\u539F\u56FE(2M)"))),X.createElement(V.View,{style:[{bottom:0,position:"absolute",zIndex:9},this.props.footerContainerStyle]},this.props.renderFooter(this.state.currentShowIndex||0))))},r.prototype.getMenu=function(){return this.state.isShowMenu?this.props.menus?X.createElement(V.View,{style:this.styles.menuContainer},this.props.menus({cancel:this.handleLeaveMenu,saveToLocal:this.saveToLocal})):X.createElement(V.View,{style:this.styles.menuContainer},X.createElement(V.View,{style:this.styles.menuShadow}),X.createElement(V.View,{style:this.styles.menuContent},X.createElement(V.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.saveToLocal,style:this.styles.operateContainer},X.createElement(V.Text,{style:this.styles.operateText},this.props.menuContext.saveToLocal)),X.createElement(V.TouchableHighlight,{underlayColor:"#F2F2F2",onPress:this.handleLeaveMenu,style:this.styles.operateContainer},X.createElement(V.Text,{style:this.styles.operateText},this.props.menuContext.cancel)))):null},r.prototype.render=function(){var e=null;return e=X.createElement(V.View,null,this.getContent(),this.getMenu()),X.createElement(V.View,{onLayout:this.handleLayout,style:At({flex:1,overflow:"hidden"},this.props.style)},e)},r.defaultProps=new ji.Props,r}(X.Component);tt.default=Em});var lf=qe(Gr=>{"use strict";a();Object.defineProperty(Gr,"__esModule",{value:!0});var cf=sf();Gr.ImageViewer=cf.default;var Dm=Bi();Gr.ImageViewerPropsDefine=Dm.Props;Gr.default=cf.default});a();Z();a();a();var Gt=P(x()),bn=P(Gf());function sc(t=2e3){let[r,e]=Gt.useState(!1),n=Gt.useRef(null);return Gt.useEffect(()=>(!r&&typeof window<"u"&&(n.current=setTimeout(()=>(0,bn.unstable_runWithPriority)(bn.unstable_IdlePriority,()=>e(!0)),t)),()=>{n.current&&clearTimeout(n.current)}),[]),r}a();var Sn=P(x());function cc(t,r){let[e,n]=Sn.useState(t),o=typeof r=="number"?r:r[t];return Sn.useEffect(()=>{if(!o)return;let i=setTimeout(()=>{n(t)},o);return()=>{clearTimeout(i)}},[t,o]),o?e:t}a();var qt=P(x());function lc(){let t=qt.useRef(new WeakMap);return qt.useCallback(r=>(t.current.has(r)||t.current.set(r,qt.createRef()),t.current.get(r)),[])}a();var uc=P(x()),wn=0;function fc(t=!0){uc.useEffect(()=>{if(!t)return;let r=document.documentElement;if(wn===0){let e=window.innerWidth-r.clientWidth;r.style.overflow="hidden",r.style.paddingRight=`${e}px`}return wn+=1,()=>{wn-=1,wn===0&&(r.style.overflow="auto",r.style.paddingRight="0px")}},[t])}a();function dc(t){let r=[],e=[];for(let n=0;n<t.length;n++){let o=t[n];try{let i=o();e.push(i)}catch(i){if(i instanceof Promise)r.push(i);else throw i}}if(r.length>0)throw Promise.all(r);return e}a();var Pt=P(x());Z();a();var Cn=P(x());Z();var Xf=He.createResponsiveComponent(Zr);function pc(t){let[,r]=j($f),{close:e}=sn(),n=on()==="mobile",o=t.closeable||n,i=()=>{t.onClose&&t.onClose(),e(t.id)},s=Cr({mount:Yf,unmount:Kf});return Cn.createElement(v,{ref:s},Cn.createElement(Xf,{mobileStyle:r.toastMobile,desktopStyle:r.toastDesktop,onPress:()=>{t.onOpen&&t.onOpen(),o&&i()}},Cn.createElement(Ba,{...t,onClose:o?i:void 0,style:r.alert})))}var Yf={duration:Ze.TRANSITION_DURATION_SHORT,frames:{0:{opacity:0,transform:[{translateY:100}]},1:{opacity:1,transform:[{translateY:0}]}}},Kf={duration:Ze.TRANSITION_DURATION_SHORT,frames:{0:{opacity:1,transform:[{translateY:0}]},1:{opacity:0,transform:[{translateY:100}]}}},$f=re.create({toastDesktop:{width:"auto",minWidth:420,maxWidth:720,marginBottom:p.small},toastMobile:{width:"100%",minWidth:0},alert:t=>({...t.shadows.pop,borderColor:t.colors.border.main})});function mc(t){let r=_o(an),e=_o(Fa),n=Pt.useRef(null),o=Qf[r];return Pt.createElement(Ke,{ref:n},Pt.createElement(He.View,{style:[Zf.toaster],mobileStyle:o.mobile,desktopStyle:o.desktop},Pt.createElement(Ia,null,e.map(i=>Pt.createElement(pc,{...i,key:i.id})))))}var Zf=Xe.create({toaster:{position:"fixed",zIndex:200}}),Qf={"bottom-right":Xe.create({desktop:{bottom:p.medium,right:p.medium},mobile:{bottom:p.medium,right:p.medium,left:p.medium}}),"bottom-right-with-bar":Xe.create({desktop:{bottom:p.xxlarge,right:p.medium},mobile:{bottom:p.xxlarge+p.xlarge+p.medium,right:p.medium,left:p.medium}})};a();var hc=P(x());function gc(t){let r=Mt(an);hc.useEffect(()=>{t&&r(t)},[r,t])}a();var Go=P(x());a();var ne=P(x());Z();a();var q=P(x());Z();a();var je=P(x());function Jf(t){if(typeof t.key!="string")throw new Error("Need a key getter");return t.key}function yc(t){let{items:r,scrollTo:e,onSelect:n,onOpen:o,onClose:i,getKey:s=Jf,active:c=!0,startAtFirst:f}=t,[u,l]=(0,je.useState)(null),d=Da(),h=(typeof f>"u"?d.current:f)||!1,C=(0,je.useMemo)(()=>ed(r,u,s,h),[r,u,s,h]),b=Lo(C),g=Lo(r),w=(0,je.useCallback)(_=>{let D=s(_);return{index:g.current.findIndex(B=>s(B)===D)}},[s]),y=(0,je.useCallback)(_=>l(s(_)),[l,s]),E=(0,je.useCallback)(_=>{d.current||y(_)},[y]),N=(0,je.useCallback)(_=>{if(_>0&&b.current.next){let{next:D}=b.current;y(D),e(D)}else if(_<0&&b.current.prev){let{prev:D}=b.current;y(D),e(D)}},[e,y]);return(0,je.useEffect)(()=>{if(!c)return;let _=D=>{D.key==="Enter"?(D.preventDefault(),D.stopPropagation(),b.current.current&&n(b.current.current,w(b.current.current))):D.key==="ArrowRight"&&vc(D,"end")?(D.preventDefault(),D.stopPropagation(),b.current.current?o==null||o(b.current.current,w(b.current.current)):N(1)):D.key==="ArrowLeft"&&i&&vc(D,"start")?(D.preventDefault(),D.stopPropagation(),i()):D.key==="ArrowDown"?(D.preventDefault(),D.stopPropagation(),N(1)):D.key==="ArrowUp"&&(D.preventDefault(),D.stopPropagation(),N(-1))};return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0})}},[N,n,o,i,w,c]),{cursor:C,setCursor:y,hoverItem:E}}function ed(t,r,e,n){let o=null,i=null,s=null;return t.some(c=>(e(c)===r?s=c:s?s&&!i&&(i=c):o=c,s!=null&&i!=null)),s||(n?(o=null,s=t[0],i=t[1]):(o=null,s=null,i=t[0])),{prev:o,next:i,current:s}}function vc(t,r){let e=t.target;if(!e)return!0;let n=e.selectionStart;if(n==null)return!0;let o=e.selectionEnd;if(n!==o)return!1;if(r==="start")return n===0;let i=e.value.length;return n===i}a();var z=P(x());Z();var bc="Label",Sc="Label",wc="Label",Cc="Caption",Ho="Caption",Pc=Ho,Rc=z.forwardRef(function(r,e){let{command:n,query:o,active:i,inline:s,executeCommand:c,onHoverIn:f}=r,[u,l]=j(me),[,d]=j(td),[h,C]=Ra(!1),b=l.text,g=l.textMid,w=l.primary,y=u.colors.background.main;i&&(b=l.textStandout,g=l.textMid,y=u.colors.background.muted);let E=[l.Bold],N=z.useCallback(()=>{let ce=c(n);ce instanceof Promise&&C(()=>ce)},[n,c]),_=z.useCallback(()=>f(n),[n,f]),D=Pa.useInteractiveState({onHoverIn:_});return z.createElement(Ft,{ref:e,component:Zr,...D.events,onMouseDown:ce=>{ce.preventDefault()},onPress:N,backgroundColor:y,style:[I.directionRow,I.alignCenter,s||n.size==="small"?p.Padding.smallVertical:p.Padding.mediumVertical,s?p.Padding.mediumHorizontal:p.Padding.largeHorizontal,{height:Bo(n,s)}]},h?z.createElement(v,{style:[p.Padding.mediumRight]},z.createElement(it,{size:M.ICON_M})):n.icon?z.createElement(v,{style:[p.Padding.mediumRight]},z.createElement(z.Suspense,{fallback:z.createElement(v,{style:{width:M.ICON_M,height:M.ICON_M}})},z.createElement(n.icon,{size:M.ICON_M,style:w}))):null,z.createElement(v,{style:I.flex1},z.createElement(v,{style:I.directionRow},z.createElement(v,{style:I.flex1},n.title?z.createElement(v,null,z.createElement(te,{style:[s?l[Sc]:l[bc],b,n.subtitle?l.Bold:l.Medium],numberOfLines:1},z.createElement(un,{query:o,text:n.title,highlight:E}))):null,n.subtitle?z.createElement(v,null,z.createElement(te,{style:[s?l[Cc]:l[wc],g],numberOfLines:s?1:void 0},z.createElement(un,{query:o,text:n.subtitle,highlight:E}))):null),n.label?z.createElement(v,{style:[I.directionRow,I.alignCenter,p.Margin.smallLeft,p.Padding.smallHorizontal,d.commandLabel]},n.label.icon?z.createElement(v,{style:[p.Padding.smallRight]},z.createElement(z.Suspense,{fallback:z.createElement(v,{style:{width:M.ICON_S,height:M.ICON_S}})},z.createElement(n.label.icon,{size:M.ICON_S,style:l.textInsideColor}))):null,z.createElement(v,null,z.createElement(te,{style:[l.Caption,l.textInsideColor]},n.label.title))):null,s||!n.shortcut?null:z.createElement(v,{style:[I.directionRow,I.alignCenter]},z.createElement(v,{style:[p.Margin.smallLeft,p.Padding.smallHorizontal]},z.createElement(ln,{shortcut:n.shortcut})))),n.body?z.createElement(v,{style:[d.commandBody,p.Padding.smallLeft,p.Margin.smallTop]},n.body.map((ce,A)=>z.createElement(v,{key:A},z.createElement(te,{style:[s?l[Pc]:l[Ho],l.textMid],numberOfLines:1},z.createElement(un,{query:o,text:ce,highlight:E}))))):null),n.descendant?z.createElement(v,{style:[p.Padding.mediumLeft]},z.createElement(R.ChevronRight,{size:M.ICON_S,style:[l.textMuted]})):null,typeof n.selected=="boolean"?z.createElement(v,{style:[p.Padding.mediumLeft]},z.createElement(Ua,{value:n.selected,onValueChange:N,size:s?M.ICON_S:M.ICON_M})):null,typeof n.enabled=="boolean"?z.createElement(v,{style:[p.Padding.mediumLeft]},z.createElement(ja,{value:n.enabled,onValueChange:()=>{}})):null)});function Bo(t,r){let e=0;return e+=2*(r||t.size==="small"?p.small:p.medium),e+=Math.max(t.title&&(r?wt[Sc]:wt[bc]).lineHeight||0,t.icon?M.ICON_M:0,typeof t.selected=="boolean"||typeof t.enabled=="boolean"?r?M.ICON_S:M.ICON_M:0),t.subtitle&&(e+=(r?wt[Cc]:wt[wc]).lineHeight||0),t.body&&(e+=p.small,e+=t.body.length*((r?wt[Pc]:wt[Ho]).lineHeight||0)),e}var td=re.create({commandLabel:t=>({height:M.BUTTON_S,borderRadius:t.radiuses.large,backgroundColor:t.colors.primary.main,textColor:t.colors.primary.textInside}),commandBody:t=>({borderLeftWidth:1,borderLeftColor:t.colors.border.mid})});function xc(t){var ge;let{computed:{listId:r,items:e,sections:n,areMoreLoading:o},withKeyboardInteractions:i,palette:s,setPalette:c,setTopPalette:f}=t,u=on(),l=q.useRef(null),d=lc(),h=q.useCallback(async L=>{let U=await Ga(s,L);U?c(U):f(null)},[c,f]),C=q.useCallback(L=>{c(U=>{if(!U)return null;let Le=d(L),ve=qa(U,L,Le);return ve||(U.descendant?{...U,descendant:void 0}:U)})},[c,d]),b=q.useCallback(()=>{c(L=>L!=null&&L.parent?null:L)},[c]),g=q.useCallback(L=>{let U=-1;return{sectionIndex:n.findIndex(ve=>(U=ve.data.findIndex(Ue=>Ue.key===L),U>=0)),itemIndex:U,viewPosition:.5}},[n]),w=q.useCallback(L=>{var U;return(U=l.current)==null?void 0:U.scrollToLocation(g(L.key))},[g]),y=!!s.position,E=yc({active:i,items:e,onSelect:h,onOpen:C,onClose:b,scrollTo:w,startAtFirst:y?void 0:!0}),N=y?n.length>1:!0,_=q.useCallback(L=>{E.hoverItem(L),s.position&&C(L)},[E.hoverItem,C,!!s.position]),D=q.useMemo(()=>ts({getItemHeight:({item:L})=>Bo(L,y),getSectionSeparatorHeight:({section:L,leadingItem:U,leadingSection:Le,trailingItem:ve,trailingSection:Ue})=>Le&&!U&&!L.group.title?2*(p.small-1)+1:Ue&&!ve?y?M.S/4:M.S/2:0,getSectionHeaderHeight:({section:L})=>N&&L.group.title?M.S:0}),[y,N]),ce=q.useMemo(()=>N?({section:L})=>L.group.title?q.createElement(nd,{group:L.group,inline:y}):null:void 0,[y,N]),A=q.useCallback(L=>q.createElement(od,{...L,inline:y}),[y]),B=q.useCallback(({item:L})=>{var U;return q.createElement(Rc,{ref:d(L),active:u==="desktop"&&L.key===((U=E.cursor.current)==null?void 0:U.key),command:L,query:s.query.text,inline:y,executeCommand:h,onHoverIn:_})},[h,d,y,(ge=E.cursor.current)==null?void 0:ge.key,_,u,s.query.text]),$=o&&y;if(!$&&e.length===0){let L=s.placeholder||(Pr(s)?null:"No items found");return L?q.createElement(rd,{placeholder:L,inline:y}):null}return q.createElement(v,{style:[I.flex1]},q.createElement(Ji,{key:r,ref:l,sections:n,extraData:E.cursor,getItemLayout:D,renderItem:B,SectionSeparatorComponent:A,renderSectionHeader:ce,contentContainerStyle:[y?p.Padding.smallVertical:p.Padding.mediumVertical]}),$?q.createElement(v,{style:[I.directionRow,I.justifyContentCenter,p.Padding.medium]},q.createElement(it,{size:M.ICON_L})):null)}function rd(t){let{placeholder:r,inline:e}=t,[,n]=j(me);return q.createElement(v,{style:[p.Padding.smallHorizontal,p.Padding.mediumVertical]},q.createElement(v,{style:[e?p.Padding.mediumHorizontal:p.Padding.largeHorizontal]},q.createElement(te,{style:[n.Caption,n.textMuted]},r)))}function nd(t){let{group:r,inline:e}=t,[,n]=j(me);return q.createElement(v,{style:[id.paletteGroupHeader,I.directionRow,I.alignCenter,p.Padding.smallHorizontal]},q.createElement(v,{style:[e?p.Padding.smallHorizontal:p.Padding.largeHorizontal]},q.createElement(te,{style:[n.GroupTitle,n.textMuted]},r.title)))}function od(t){let{leadingSection:r,section:e,leadingItem:n,inline:o,trailingSection:i,trailingItem:s}=t,[,c]=j(ad);return r&&!n&&!e.group.title?q.createElement(v,{style:c.paletteDividerUntitled}):(i&&!s&&(v,o?c.paletteDividerFooterInline:c.paletteDividerFooter),null)}var id=Xe.create({paletteGroupHeader:{height:M.S}}),ad=re.create({paletteDividerUntitled:(t,r)=>({marginTop:p.small-1,marginBottom:p.small-1,borderTopColor:r.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderTopWidth:1}),paletteDividerFooter:{height:M.S/2},paletteDividerFooterInline:{height:M.S/4}});a();var Xt=P(x());Z();function Oc(t){let{error:r,inline:e}=t,[,n]=j(me);return Xt.createElement(v,{style:[I.directionRow,e?p.Padding.smallVertical:p.Padding.mediumVertical,e?p.Padding.mediumHorizontal:p.Padding.largeHorizontal]},Xt.createElement(v,{style:[p.Padding.mediumRight,p.Padding.xsmallTop]},Xt.createElement(R.Warning,{size:M.ICON_S,style:n.danger})),Xt.createElement(v,{style:I.flex1},Xt.createElement(te,{style:[n.danger,n.Label]},ia(r))))}a();var ae=P(x());Z();var Tc=ae.forwardRef(function(r,e){let{palette:n,setPalette:o,loading:i,withItems:s,placement:c,onTypeInSearch:f}=r,u=rn(2e3),[,l]=j(cd),[d,h]=j(me),C=cc(i?"loading":"stale",{loading:400,stale:800}),b=tn(()=>new $r.Value(0)).current;ae.useEffect(()=>{let N=$r.timing(b,{useNativeDriver:!0,toValue:C==="loading"?.7:0,duration:Ze.TRANSITION_DURATION_SHORT});return N.start(),()=>{N.stop()}},[b,C]);let[g,w]=xa(n.query.text,[n]),y=N=>{w(N),o(_=>!n||!_?n:Xa({..._,descendant:void 0},N))},E=N=>{N.nativeEvent.key==="Backspace"&&n.query.text.length===0?o(_=>_&&Object.keys(_.query.filters).length>0?Ka(_):_):N.nativeEvent.key==="Escape"?o(null):u(()=>{f(n)})};return ae.createElement(v,{style:s&&l.paletteInputWrapperWithBottomBorder},ae.createElement(v,{style:[I.directionRow,I.alignCenter]},n.parent&&(!n.position||c==="right")?ae.createElement(v,{style:[n.position?p.Padding.smallLeft:p.Padding.mediumLeft]},ae.createElement(R.ChevronLeft,{size:n.position?M.ICON_M:M.ICON_L,style:h.textMuted})):null,ae.createElement(v,{style:[I.flex1,I.directionRow,I.alignCenter,l.paletteInput,n.position?p.Margin.small:p.Margin.medium]},n.position?null:ae.createElement(v,{style:[p.Margin.largeLeft]},ae.createElement(R.Search,{size:M.ICON_L,style:h.textMuted})),ae.createElement(v,{style:[I.flex1]},ae.createElement(ea,{ref:e,value:g,placeholder:n.search,placeholderTextColor:d.colors.text.muted,onChangeText:y,onKeyPress:E,style:[n.position?h.Caption:h.Body,h.text,n.position?p.Padding.mediumHorizontal:p.Padding.largeHorizontal,n.position?p.Padding.smallVertical:p.Padding.mediumVertical]})),n.position?null:ae.createElement($r.View,{style:[p.Margin.smallHorizontal,p.Margin.largeRight,{opacity:b}]},ae.createElement(it,{size:M.ICON_M,style:h.textMuted})),ae.createElement(He.View,{mobileStyle:"visible",desktopStyle:"hidden",style:[p.Margin.smallHorizontal]},ae.createElement(he,{icon:R.X,size:"large",onPress:()=>o(null)}))),n.parent&&n.position&&c==="left"?ae.createElement(v,{style:[p.Padding.smallRight]},ae.createElement(R.ChevronRight,{size:M.ICON_M,style:h.textMuted})):null),ae.createElement(sd,{palette:n,setPalette:o}))});function sd(t){let{palette:r,setPalette:e}=t,n=Object.entries(r.query.filters);if(n.length===0)return null;let o=i=>{e(s=>Ya(s,i))};return ae.createElement(v,{style:[I.directionRow,p.Padding.largeHorizontal,p.Padding.mediumBottom]},n.map(([i,s])=>ae.createElement(Wa,{key:i,kind:"primary",size:"small",onPress:()=>o(i),style:p.Margin.smallRight},`${i}: ${s.text}`)))}var cd=re.create({paletteInputWrapperWithBottomBorder:(t,r)=>({borderBottomColor:r.color==="light"?t.colors.border.mid:t.colors.sidebar.itemBorder,borderBottomWidth:1}),paletteInput:t=>({backgroundColor:t.colors.background.muted,borderRadius:t.radiuses.large})});a();var Yt=P(x());function Ic(t){let[r,e]=Yt.useState(!1),n=tn(()=>new WeakMap),o=Yt.useRef(null);return Yt.useMemo(()=>{let i=[],s=[],c;t.groups.forEach(l=>{let d;try{d=ld(t,l)}catch(h){c=h;return}if(d instanceof Promise){let h=n.current.get(l);h&&i.push(h),s.push(d)}else d&&(n.current.set(l,d),i.push(d))});let f=i.filter(l=>l.data.length>0).sort((l,d)=>l.priority>d.priority?-1:l.priority<d.priority?1:0),u=f.reduce((l,d)=>(l.push(...d.data),l),[]);if(s.length>0){e(!0);let l=o.current=Promise.all(s);l.then(()=>{l===o.current&&(e(!1),o.current=null)}).catch(d=>oa(new Error(d)))}return{listId:Date.now(),items:u,sections:f,areMoreLoading:r,error:c}},[t.groups,t.query,r,n])}function ld(t,r){try{if(Object.keys(t.query.filters).length>0&&typeof r.commands!="function")return;let e=typeof r.commands=="function"?r.commands(t):r.commands,n=typeof r.commands!="function"||r.commands.length===0,o=r.priority||5;if(n){let i=ud(t.query.text,e);o=i.reduce((s,c)=>typeof c.score<"u"?Math.max((1-c.score)*10,s):s,o),e=i.map(s=>s.item)}return{group:r,priority:o,data:e}}catch(e){if(e instanceof Promise)return e;throw e}}function ud(t,r){return t?new ya(r,{threshold:.3,location:0,distance:100,shouldSort:!0,includeScore:!0,minMatchCharLength:1,isCaseSensitive:!1,keys:["title","keywords"]}).search(t):r.map(n=>({item:n,score:void 0}))}a();var Wo=P(Wf()),On=P(x());var jo=204,Pn=246,Uo=384,fd=630,Rn=180,xn=355;function Ec(t,r){var c;let e=On.useMemo(()=>pd(t,r),[t.position,!!t.parent,r]),n=On.useCallback(f=>dd(f,t.position),[t.position]),[o,i,s]=Va((c=t.position)==null?void 0:c.anchorRef,n,e);return[o,i,s]}function dd(t,r){let e,n=(r==null?void 0:r.width)||"medium";switch(n){case"small":e={width:jo,maxWidth:jo,minWidth:jo,minHeight:0,height:Rn,maxHeight:xn};break;case"medium":e={width:Pn,maxWidth:Pn,minWidth:Pn,minHeight:0,height:Rn,maxHeight:xn};break;case"large":e={width:Uo,maxWidth:Uo,minWidth:Uo,minHeight:0,height:Rn,maxHeight:xn};break;case"anchor":let o=Math.max(Pn,t.width),i=(0,Wo.default)(t.width,o,fd);e={width:(0,Wo.default)(t.width,o,i),maxWidth:i,minWidth:o,minHeight:0,height:Rn,maxHeight:xn};break;default:fa(n)}return e}function pd(t,r){var n,o;let e={cover:(n=t.position)==null?void 0:n.cover,spacingWithAnchor:p.small};return t.parent?(e.offset={top:-p.small},e.allowedPlacements=r==="left"?["left","right"]:["right","left"]):((o=t.position)==null?void 0:o.width)==="anchor"&&(e.allowedPlacements=["bottom","top"]),e}var md=He.createResponsiveComponent(Ft);function Dc(t){var u;let{palette:r,setPalette:e,useOnPaletteView:n}=t;n(r);let o=ne.useRef(null),[,i]=j(kc),s=()=>e(null),c=Cr(Ze.fade),f=Oa("OUTSIDE_CLICK");return nn({opened:!0,closeOnEsc:!Pr(r),closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,onClose:s},o),fc(),ne.createElement(Ke,{ref:o},ne.createElement(Eo,{onPressIn:()=>{f&&s()}},ne.createElement(v,{ref:c,style:[i.paletteBackdrop,((u=r.position)==null?void 0:u.anchorRef)&&i.paletteBackdropInline]},ne.createElement(_c,{...t,setTopPalette:e}))))}function _c(t){let{palette:r,setPalette:e,setTopPalette:n,paletteVariant:o,parentPlacement:i,onTypeInSearch:s}=t,[c,f]=Ec(r,i),u=Cr(r.position?Ze.slideToL[f]:Ze.pop);return ne.createElement(ne.Fragment,null,ne.createElement(Ca,{theme:o},ne.createElement(hd,{ref:u,...t,setTopPalette:n,positionStyle:c,placement:f,onTypeInSearch:s})),r.descendant?ne.createElement(_c,{palette:r.descendant,setTopPalette:n,setPalette:l=>{e(d=>{if(!d)return null;let h=typeof l=="function"?l(d.descendant||null):l;return{...d,descendant:h||void 0}})},paletteVariant:o,parentPlacement:f,onTypeInSearch:s}):null)}var hd=ne.forwardRef(function(r,e){let{palette:n,setPalette:o,setTopPalette:i,positionStyle:s,placement:c,onTypeInSearch:f}=r,u=ne.useRef(null),[l,d]=j(kc),h=Ic(n),C=!n.descendant;if(ne.useEffect(()=>{if(n.descendant)return;let b=u.current;b&&(document.activeElement===b||(b.select(),b.focus()))},[n]),!C&&!n.position){let b=$a(n),g=-(b.length*10),w=-2*g;return ne.createElement(v,{style:[d.palette,d.paletteDesktop,d.paletteDesktopPlaceholder,b.length?{position:"absolute",top:g,height:w,opacity:Math.pow(.6,b.length),transform:[{scale:Math.pow(.95,b.length)}]}:null]})}return ne.createElement(Eo,{onPress:b=>b.preventDefault()},ne.createElement(md,{ref:e,backgroundColor:l.colors.background.main,style:[d.palette],mobileStyle:d.paletteMobile,desktopStyle:n.position?[d.paletteInline,s]:d.paletteDesktop,onStartShouldSetResponder:()=>!0},Pr(n)?ne.createElement(Tc,{ref:u,palette:n,setPalette:o,loading:h.areMoreLoading,withItems:h.items.length>0,placement:c,onTypeInSearch:f}):null,h.error?ne.createElement(Oc,{error:h.error,inline:!!n.position}):null,ne.createElement(xc,{computed:h,palette:n,withKeyboardInteractions:C,setPalette:o,setTopPalette:i})))}),kc=re.create({paletteBackdrop:t=>({flexDirection:"row",alignItems:"flex-start",justifyContent:"center",position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",zIndex:100,backgroundColor:t.colors.backdrop.background}),paletteBackdropInline:t=>({backgroundColor:"transparent"}),palette:t=>({borderRadius:t.radiuses.xlarge,borderColor:t.colors.border.main,borderWidth:1,overflow:"hidden",...t.shadows.pop}),paletteDesktop:{marginTop:p.xxlarge,width:640,maxHeight:480},paletteDesktopPlaceholder:t=>({backgroundColor:t.colors.background.main}),paletteMobile:{position:"absolute",marginTop:0,top:p.small,left:p.small,right:p.small,maxHeight:440,width:"auto",maxWidth:"100%",minWidth:"auto"},paletteInline:{position:"absolute"}});function Ac(t){let[r,e]=rt(Za);return Go.createElement(Ta,null,r?Go.createElement(Dc,{palette:r,setPalette:e,paletteVariant:r.variants||{},...t}):null)}a();var Kt=P(x());function Lc(t){let{children:r,...e}=t;return Kt.createElement(ba,null,Kt.createElement(Na,null,Kt.createElement(Ea,null,Kt.createElement(Ac,{...e}),Kt.createElement(mc,null),r)))}a();var Ne=P(x());Z();function $t(t){let{title:r,children:e,action:n,dismissable:o}=t,i=o?`@sidebar:alert:${o}`:null,[s,c]=Ne.useState(i?No.get(i):!1),[,f]=j(gd),[,u]=j(me);return s?null:Ne.createElement(v,{style:[f.alert,p.Padding.small]},Ne.createElement(v,{style:[I.directionRow,I.alignCenter,p.Margin.xsmallBottom]},Ne.createElement(v,{style:I.flex1},Ne.createElement(te,{style:[u.textSidebarStandout,u.Caption]},r)),i?Ne.createElement(v,null,Ne.createElement(he,{icon:R.X,size:"xsmall",onPress:()=>{c(!0),No.set(i,!0)}})):null),Ne.createElement(v,null,Ne.createElement(te,{style:[u.textMuted,u.Caption]},e)),n?Ne.createElement(v,{style:[p.Margin.smallTop,I.directionRow]},n):null)}var gd=re.create({alert:t=>({backgroundColor:t.colors.sidebar.activeItem,borderColor:t.colors.sidebar.inputBorder,borderWidth:1,borderRadius:M.RADIUS_L})});a();var Zt=P(x());Z();function Tn(t){let{children:r,alert:e}=t;return Zt.createElement(Zt.Fragment,null,Zt.createElement(v,{style:[I.flexGrow1,p.Padding.mediumVertical]},r),e?Zt.createElement(v,{style:[p.Padding.small]},e):null)}a();var In=P(x());var Nc=nt("auth"),qo=_a(t=>{let{customToken:r,waitUserReady:e=!0}=t;if(typeof window>"u")throw new Error("initializeAuth should not be called during SSR");return!r&&!e?{customToken:r}:new aa("auth.initialize").wrap(async()=>{if(r)try{Nc.info("authenticating with custom token before subscribing to auth"),await ko.auth().signInWithCustomToken(r)}catch(o){Nc.critical("Error during auth with custom token",o)}return e!==!1&&await new Promise((o,i)=>{let s=ko.auth().onAuthStateChanged(()=>{s(),o()},i)}),{customToken:r}})});function Mc(t){return qo.readAsync(t)}function zc(t){let{children:r}=t;if(typeof window<"u"){if(qo.state==="unstarted")throw new Error("initializeAuth should have been called before useWaitFirebaseAuth");qo.read({})}return In.createElement(In.Fragment,null,r)}a();a();a();function Qt(){return Qt=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Qt.apply(this,arguments)}var Jt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jt||(Jt={}));var Vc=function(t){return t};var Fc="beforeunload";var vd="popstate";function jc(t){t===void 0&&(t={});var r=t,e=r.window,n=e===void 0?document.defaultView:e,o=n.history;function i(){var A=n.location,B=A.pathname,$=A.search,ge=A.hash,L=o.state||{};return[L.idx,Vc({pathname:B,search:$,hash:ge,state:L.usr||null,key:L.key||"default"})]}var s=null;function c(){if(s)C.call(s),s=null;else{var A=Jt.Pop,B=i(),$=B[0],ge=B[1];if(C.length){if($!=null){var L=l-$;L&&(s={action:A,location:ge,retry:function(){D(L*-1)}},D(L))}}else E(A)}}n.addEventListener(vd,c);var f=Jt.Pop,u=i(),l=u[0],d=u[1],h=Bc(),C=Bc();l==null&&(l=0,o.replaceState(Qt({},o.state,{idx:l}),""));function b(A){return typeof A=="string"?A:bd(A)}function g(A,B){return B===void 0&&(B=null),Vc(Qt({pathname:d.pathname,hash:"",search:""},typeof A=="string"?Sd(A):A,{state:B,key:yd()}))}function w(A,B){return[{usr:A.state,key:A.key,idx:B},b(A)]}function y(A,B,$){return!C.length||(C.call({action:A,location:B,retry:$}),!1)}function E(A){f=A;var B=i();l=B[0],d=B[1],h.call({action:f,location:d})}function N(A,B){var $=Jt.Push,ge=g(A,B);function L(){N(A,B)}if(y($,ge,L)){var U=w(ge,l+1),Le=U[0],ve=U[1];try{o.pushState(Le,"",ve)}catch(Ue){n.location.assign(ve)}E($)}}function _(A,B){var $=Jt.Replace,ge=g(A,B);function L(){_(A,B)}if(y($,ge,L)){var U=w(ge,l),Le=U[0],ve=U[1];o.replaceState(Le,"",ve),E($)}}function D(A){o.go(A)}var ce={get action(){return f},get location(){return d},createHref:b,push:N,replace:_,go:D,back:function(){D(-1)},forward:function(){D(1)},listen:function(B){return h.push(B)},block:function(B){var $=C.push(B);return C.length===1&&n.addEventListener(Fc,Hc),function(){$(),C.length||n.removeEventListener(Fc,Hc)}}};return ce}function Hc(t){t.preventDefault(),t.returnValue=""}function Bc(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(n){return n!==e})}},call:function(e){t.forEach(function(n){return n&&n(e)})}}}function yd(){return Math.random().toString(36).substr(2,8)}function bd(t){var r=t.pathname,e=r===void 0?"/":r,n=t.search,o=n===void 0?"":n,i=t.hash,s=i===void 0?"":i;return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Sd(t){var r={};if(t){var e=t.indexOf("#");e>=0&&(r.hash=t.substr(e),t=t.substr(0,e));var n=t.indexOf("?");n>=0&&(r.search=t.substr(n),t=t.substr(0,n)),t&&(r.pathname=t)}return r}var Xo=nt("history");function Uc(){let t=jc(),r=[],e=!1,n=()=>{let i=r.shift();return i?(i(),!1):!0},o=i=>{e?r.push(i):i()};return{get location(){return t.location},listen:i=>t.listen(s=>{i({location:s.location,action:s.action})}),push:i=>{let{state:s,...c}=i;o(()=>{Xo.info("push",c,s),t.push(c,s)})},replace:i=>{let{state:s,...c}=i;o(()=>{Xo.info("replace",c,s),t.replace(c,s)})},go:i=>{o(()=>{Xo.info("go",i),t.go(i)})},transaction:i=>{if(e)i();else{let s=t.listen(()=>{n()&&s()});e=!0,i(),e=!1,n()&&s()}}}}a();var er=P(x()),Wc=P(La());function Gc(t){let{history:r,children:e}=t,n=er.useMemo(()=>r||Uc(),[r]),o=er.useMemo(()=>({getCurrentValue:()=>n.location,subscribe:s=>n.listen(s)}),[n]),i=(0,Wc.useSubscription)(o);return er.createElement(as.Provider,{value:n},er.createElement(ss.Provider,{value:i},e))}a();var qc=P(La()),wd={getCurrentValue:()=>typeof navigator<"u"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,subscribe:t=>(window.addEventListener("online",t),window.addEventListener("offline",t),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)})};function Xc(){return(0,qc.useSubscription)(wd)}a();function Cd(t){ue({type:"palette_search",length:t.query.text.length})}function Pd(t){Vs(t.position?null:"palette",[!!t.position])}var Yc={onTypeInSearch:Cd,useOnPaletteView:Pd};a();var Ce=P(x());Z();function Kc(t){let r=Ce.useRef(null),[,e]=j(Rd),[,n]=j(me),o=Ir(),i=Xc(),s=Ce.useRef(i),c=Ce.useRef(0),u=wa().color==="light"?n.textInverted:n.text;return Ce.useEffect(()=>{i&&(s.current||ue({type:"app_back_online",offlineDuration:(Date.now()-c.current)/1e3})),s.current=i,c.current=Date.now()},[i]),i?null:Ce.createElement(Ke,{ref:r},Ce.createElement(v,{style:[e.offLineLayout]},Ce.createElement(v,null,Ce.createElement(v,{style:[p.Margin.mediumBottom,I.directionRow,I.alignCenter]},Ce.createElement(v,{style:[p.Margin.mediumRight]},Ce.createElement(R.CloudOff,{size:M.ICON_S,style:u})),Ce.createElement(te,{style:[n.Heading3,u]},o("connection_lost"))),Ce.createElement(v,{style:[p.Margin.mediumBottom]},Ce.createElement(te,{style:[n.Body,u]},o("device_offline"))))))}var Rd=re.create({offLineLayout:t=>({position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:t.colors.backdrop.background,zIndex:100,display:"flex",flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"})});a();var Bl=P(Jc(),1);a();a();a();a();function Me(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var el=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Yo=function(){return Math.random().toString(36).substring(7).split("").join(".")},tl={INIT:"@@redux/INIT"+Yo(),REPLACE:"@@redux/REPLACE"+Yo(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Yo()}};function _d(t){if(typeof t!="object"||t===null)return!1;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function Ko(t,r,e){var n;if(typeof r=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Me(0));if(typeof r=="function"&&typeof e>"u"&&(e=r,r=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Me(1));return e(Ko)(t,r)}if(typeof t!="function")throw new Error(Me(2));var o=t,i=r,s=[],c=s,f=!1;function u(){c===s&&(c=s.slice())}function l(){if(f)throw new Error(Me(3));return i}function d(g){if(typeof g!="function")throw new Error(Me(4));if(f)throw new Error(Me(5));var w=!0;return u(),c.push(g),function(){if(w){if(f)throw new Error(Me(6));w=!1,u();var E=c.indexOf(g);c.splice(E,1),s=null}}}function h(g){if(!_d(g))throw new Error(Me(7));if(typeof g.type>"u")throw new Error(Me(8));if(f)throw new Error(Me(9));try{f=!0,i=o(i,g)}finally{f=!1}for(var w=s=c,y=0;y<w.length;y++){var E=w[y];E()}return g}function C(g){if(typeof g!="function")throw new Error(Me(10));o=g,h({type:tl.REPLACE})}function b(){var g,w=d;return g={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(Me(11));function N(){E.next&&E.next(l())}N();var _=w(N);return{unsubscribe:_}}},g[el]=function(){return this},g}return h({type:tl.INIT}),n={dispatch:h,subscribe:d,getState:l,replaceReducer:C},n[el]=b,n}a();a();a();a();function rl(t,r,e){return r.split(".").reduce((n,o)=>n&&n[o]?n[o]:e||null,t)}function nl(t,r){return t.filter(e=>e!==r)}function Dn(t){return typeof t=="object"}function ol(t,r){let e=new Map,n=i=>{e.set(i,e.has(i)?e.get(i)+1:1)};t.forEach(n),r.forEach(n);let o=[];return e.forEach((i,s)=>{i===1&&o.push(s)}),o}function il(t,r){return t.filter(e=>r.indexOf(e)>-1)}a();a();var tr="dnd-core/INIT_COORDS",ut="dnd-core/BEGIN_DRAG",rr="dnd-core/PUBLISH_DRAG_SOURCE",ft="dnd-core/HOVER",dt="dnd-core/DROP",pt="dnd-core/END_DRAG";function $o(t,r){return{type:tr,payload:{sourceClientOffset:r||null,clientOffset:t||null}}}var kd={type:tr,payload:{clientOffset:null,sourceClientOffset:null}};function al(t){return function(e=[],n={publishSource:!0}){let{publishSource:o=!0,clientOffset:i,getSourceClientOffset:s}=n,c=t.getMonitor(),f=t.getRegistry();t.dispatch($o(i)),Ad(e,c,f);let u=Md(e,c);if(u==null){t.dispatch(kd);return}let l=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");Ld(s),l=s(u)}t.dispatch($o(i,l));let h=f.getSource(u).beginDrag(c,u);if(h==null)return;Nd(h),f.pinSource(u);let C=f.getSourceType(u);return{type:ut,payload:{itemType:C,item:h,sourceId:u,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!o}}}}function Ad(t,r,e){H(!r.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){H(e.getSource(n),"Expected sourceIds to be registered.")})}function Ld(t){H(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Nd(t){H(Dn(t),"Item must be an object.")}function Md(t,r){let e=null;for(let n=t.length-1;n>=0;n--)if(r.canDragSource(t[n])){e=t[n];break}return e}a();function zd(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Vd(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.forEach(function(o){zd(t,o,e[o])})}return t}function sl(t){return function(e={}){let n=t.getMonitor(),o=t.getRegistry();Fd(n),jd(n).forEach((s,c)=>{let f=Hd(s,c,o,n),u={type:dt,payload:{dropResult:Vd({},e,f)}};t.dispatch(u)})}}function Fd(t){H(t.isDragging(),"Cannot call drop while not dragging."),H(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Hd(t,r,e,n){let o=e.getTarget(t),i=o?o.drop(n,t):void 0;return Bd(i),typeof i>"u"&&(i=r===0?{}:n.getDropResult()),i}function Bd(t){H(typeof t>"u"||Dn(t),"Drop result must either be an object or undefined.")}function jd(t){let r=t.getTargetIds().filter(t.canDropOnTarget,t);return r.reverse(),r}a();function cl(t){return function(){let e=t.getMonitor(),n=t.getRegistry();Ud(e);let o=e.getSourceId();return o!=null&&(n.getSource(o,!0).endDrag(e,o),n.unpinSource()),{type:pt}}}function Ud(t){H(t.isDragging(),"Cannot call endDrag while not dragging.")}a();a();function Er(t,r){return r===null?t===null:Array.isArray(t)?t.some(e=>e===r):t===r}function ll(t){return function(e,{clientOffset:n}={}){Wd(e);let o=e.slice(0),i=t.getMonitor(),s=t.getRegistry(),c=i.getItemType();return qd(o,s,c),Gd(o,i,s),Xd(o,i,s),{type:ft,payload:{targetIds:o,clientOffset:n||null}}}}function Wd(t){H(Array.isArray(t),"Expected targetIds to be an array.")}function Gd(t,r,e){H(r.isDragging(),"Cannot call hover while not dragging."),H(!r.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){let o=t[n];H(t.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array.");let i=e.getTarget(o);H(i,"Expected targetIds to be registered.")}}function qd(t,r,e){for(let n=t.length-1;n>=0;n--){let o=t[n],i=r.getTargetType(o);Er(i,e)||t.splice(n,1)}}function Xd(t,r,e){t.forEach(function(n){e.getTarget(n).hover(r,n)})}a();function ul(t){return function(){if(t.getMonitor().isDragging())return{type:rr}}}function fl(t){return{beginDrag:al(t),publishDragSource:ul(t),hover:ll(t),drop:sl(t),endDrag:cl(t)}}var _n=class{receiveBackend(r){this.backend=r}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let r=this,{dispatch:e}=this.store;function n(i){return(...s)=>{let c=i.apply(r,s);typeof c<"u"&&e(c)}}let o=fl(this);return Object.keys(o).reduce((i,s)=>{let c=o[s];return i[s]=n(c),i},{})}dispatch(r){this.store.dispatch(r)}constructor(r,e){this.isSetUp=!1,this.handleRefCountChange=()=>{let n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=r,this.monitor=e,r.subscribe(this.handleRefCountChange)}};a();a();function Yd(t,r){return{x:t.x+r.x,y:t.y+r.y}}function dl(t,r){return{x:t.x-r.x,y:t.y-r.y}}function pl(t){let{clientOffset:r,initialClientOffset:e,initialSourceClientOffset:n}=t;return!r||!e||!n?null:dl(Yd(r,n),e)}function ml(t){let{clientOffset:r,initialClientOffset:e}=t;return!r||!e?null:dl(r,e)}a();var nr=[],kn=[];nr.__IS_NONE__=!0;kn.__IS_ALL__=!0;function hl(t,r){return t===nr?!1:t===kn||typeof r>"u"?!0:il(r,t).length>0}var An=class{subscribeToStateChange(r,e={}){let{handlerIds:n}=e;H(typeof r=="function","listener must be a function."),H(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId,i=()=>{let s=this.store.getState(),c=s.stateId;try{c===o||c===o+1&&!hl(s.dirtyHandlerIds,n)||r()}finally{o=c}};return this.store.subscribe(i)}subscribeToOffsetChange(r){H(typeof r=="function","listener must be a function.");let e=this.store.getState().dragOffset,n=()=>{let o=this.store.getState().dragOffset;o!==e&&(e=o,r())};return this.store.subscribe(n)}canDragSource(r){if(!r)return!1;let e=this.registry.getSource(r);return H(e,`Expected to find a valid source. sourceId=${r}`),this.isDragging()?!1:e.canDrag(this,r)}canDropOnTarget(r){if(!r)return!1;let e=this.registry.getTarget(r);if(H(e,`Expected to find a valid target. targetId=${r}`),!this.isDragging()||this.didDrop())return!1;let n=this.registry.getTargetType(r),o=this.getItemType();return Er(n,o)&&e.canDrop(this,r)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(r){if(!r)return!1;let e=this.registry.getSource(r,!0);if(H(e,`Expected to find a valid source. sourceId=${r}`),!this.isDragging()||!this.isSourcePublic())return!1;let n=this.registry.getSourceType(r),o=this.getItemType();return n!==o?!1:e.isDragging(this,r)}isOverTarget(r,e={shallow:!1}){if(!r)return!1;let{shallow:n}=e;if(!this.isDragging())return!1;let o=this.registry.getTargetType(r),i=this.getItemType();if(i&&!Er(o,i))return!1;let s=this.getTargetIds();if(!s.length)return!1;let c=s.indexOf(r);return n?c===s.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return pl(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return ml(this.store.getState().dragOffset)}constructor(r,e){this.store=r,this.registry=e}};a();a();a();a();a();var gl=typeof window<"u"?window:self,vl=gl.MutationObserver||gl.WebKitMutationObserver;function Zo(t){return function(){let e=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(e),clearInterval(n),t()}}}function Kd(t){let r=1,e=new vl(t),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){r=-r,n.data=r}}var yl=typeof vl=="function"?Kd:Zo;var Ln=class{enqueueTask(r){let{queue:e,requestFlush:n}=this;e.length||(n(),this.flushing=!0),e[e.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:r}=this;for(;this.index<r.length;){let e=this.index;if(this.index++,r[e].call(),this.index>this.capacity){for(let n=0,o=r.length-this.index;n<o;n++)r[n]=r[n+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=yl(this.flush),this.requestErrorThrow=Zo(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}};a();a();var Nn=class{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,e){this.onError=r,this.release=e,this.task=null}};var Mn=class{create(r){let e=this.freeTasks,n=e.length?e.pop():new Nn(this.onError,o=>e[e.length]=o);return n.task=r,n}constructor(r){this.onError=r,this.freeTasks=[]}};var bl=new Ln,$d=new Mn(bl.registerPendingError);function Sl(t){bl.enqueueTask($d.create(t))}a();a();var Dr="dnd-core/ADD_SOURCE",_r="dnd-core/ADD_TARGET",kr="dnd-core/REMOVE_SOURCE",xt="dnd-core/REMOVE_TARGET";function wl(t){return{type:Dr,payload:{sourceId:t}}}function Cl(t){return{type:_r,payload:{targetId:t}}}function Pl(t){return{type:kr,payload:{sourceId:t}}}function Rl(t){return{type:xt,payload:{targetId:t}}}a();function xl(t){H(typeof t.canDrag=="function","Expected canDrag to be a function."),H(typeof t.beginDrag=="function","Expected beginDrag to be a function."),H(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Ol(t){H(typeof t.canDrop=="function","Expected canDrop to be a function."),H(typeof t.hover=="function","Expected hover to be a function."),H(typeof t.drop=="function","Expected beginDrag to be a function.")}function zn(t,r){if(r&&Array.isArray(t)){t.forEach(e=>zn(e,!1));return}H(typeof t=="string"||typeof t=="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}a();var ke;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(ke||(ke={}));a();var Zd=0;function Tl(){return Zd++}function Qd(t){let r=Tl().toString();switch(t){case ke.SOURCE:return`S${r}`;case ke.TARGET:return`T${r}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Il(t){switch(t[0]){case"S":return ke.SOURCE;case"T":return ke.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function El(t,r){let e=t.entries(),n=!1;do{let{done:o,value:[,i]}=e.next();if(i===r)return!0;n=!!o}while(!n);return!1}var Vn=class{addSource(r,e){zn(r),xl(e);let n=this.addHandler(ke.SOURCE,r,e);return this.store.dispatch(wl(n)),n}addTarget(r,e){zn(r,!0),Ol(e);let n=this.addHandler(ke.TARGET,r,e);return this.store.dispatch(Cl(n)),n}containsHandler(r){return El(this.dragSources,r)||El(this.dropTargets,r)}getSource(r,e=!1){return H(this.isSourceId(r),"Expected a valid source ID."),e&&r===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(r)}getTarget(r){return H(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}getSourceType(r){return H(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}getTargetType(r){return H(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}isSourceId(r){return Il(r)===ke.SOURCE}isTargetId(r){return Il(r)===ke.TARGET}removeSource(r){H(this.getSource(r),"Expected an existing source."),this.store.dispatch(Pl(r)),Sl(()=>{this.dragSources.delete(r),this.types.delete(r)})}removeTarget(r){H(this.getTarget(r),"Expected an existing target."),this.store.dispatch(Rl(r)),this.dropTargets.delete(r),this.types.delete(r)}pinSource(r){let e=this.getSource(r);H(e,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=e}unpinSource(){H(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(r,e,n){let o=Qd(r);return this.types.set(o,e),r===ke.SOURCE?this.dragSources.set(o,n):r===ke.TARGET&&this.dropTargets.set(o,n),o}constructor(r){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}};a();a();a();var Jd=(t,r)=>t===r;function Dl(t,r){return!t&&!r?!0:!t||!r?!1:t.x===r.x&&t.y===r.y}function _l(t,r,e=Jd){if(t.length!==r.length)return!1;for(let n=0;n<t.length;++n)if(!e(t[n],r[n]))return!1;return!0}function kl(t=nr,r){switch(r.type){case ft:break;case Dr:case _r:case xt:case kr:return nr;case ut:case rr:case pt:case dt:default:return kn}let{targetIds:e=[],prevTargetIds:n=[]}=r.payload,o=ol(e,n);if(!(o.length>0||!_l(e,n)))return nr;let s=n[n.length-1],c=e[e.length-1];return s!==c&&(s&&o.push(s),c&&o.push(c)),o}a();function ep(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function tp(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.forEach(function(o){ep(t,o,e[o])})}return t}var Al={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ll(t=Al,r){let{payload:e}=r;switch(r.type){case tr:case ut:return{initialSourceClientOffset:e.sourceClientOffset,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset};case ft:return Dl(t.clientOffset,e.clientOffset)?t:tp({},t,{clientOffset:e.clientOffset});case pt:case dt:return Al;default:return t}}a();function rp(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function or(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.forEach(function(o){rp(t,o,e[o])})}return t}var np={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Nl(t=np,r){let{payload:e}=r;switch(r.type){case ut:return or({},t,{itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublic:e.isSourcePublic,dropResult:null,didDrop:!1});case rr:return or({},t,{isSourcePublic:!0});case ft:return or({},t,{targetIds:e.targetIds});case xt:return t.targetIds.indexOf(e.targetId)===-1?t:or({},t,{targetIds:nl(t.targetIds,e.targetId)});case dt:return or({},t,{dropResult:e.dropResult,didDrop:!0,targetIds:[]});case pt:return or({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}a();function Ml(t=0,r){switch(r.type){case Dr:case _r:return t+1;case kr:case xt:return t-1;default:return t}}a();function zl(t=0){return t+1}function op(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function ip(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.forEach(function(o){op(t,o,e[o])})}return t}function Vl(t={},r){return{dirtyHandlerIds:kl(t.dirtyHandlerIds,{type:r.type,payload:ip({},r.payload,{prevTargetIds:rl(t,"dragOperation.targetIds",[])})}),dragOffset:Ll(t.dragOffset,r),refCount:Ml(t.refCount,r),dragOperation:Nl(t.dragOperation,r),stateId:zl(t.stateId)}}function Fl(t,r=void 0,e={},n=!1){let o=ap(n),i=new An(o,new Vn(o)),s=new _n(o,i),c=t(s,r,e);return s.receiveBackend(c),s}function ap(t){let r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ko(Vl,t&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}var Hn=P(x(),1);function sp(t,r){if(t==null)return{};var e=cp(t,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(e[n]=t[n])}return e}function cp(t,r){if(t==null)return{};var e={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(e[o]=t[o]);return e}var Hl=0,Fn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),jl=(0,Hn.memo)(function(r){var{children:e}=r,n=sp(r,["children"]);let[o,i]=lp(n);return(0,Hn.useEffect)(()=>{if(i){let s=Ul();return++Hl,()=>{--Hl===0&&(s[Fn]=null)}}},[]),(0,Bl.jsx)(gs.Provider,{value:o,children:e})});function lp(t){if("manager"in t)return[{dragDropManager:t.manager},!1];let r=up(t.backend,t.context,t.options,t.debugMode),e=!t.context;return[r,e]}function up(t,r=Ul(),e,n){let o=r;return o[Fn]||(o[Fn]={dragDropManager:Fl(t,r,e,n)}),o[Fn]}function Ul(){return window}a();var Qo=P(x(),1);function Wl(t){let e=ys().getMonitor(),[n,o]=vs(e,t);return(0,Qo.useEffect)(()=>e.subscribeToOffsetChange(o)),(0,Qo.useEffect)(()=>e.subscribeToStateChange(o)),n}a();var Jo=P(x());var fp=nt("app:customerio");function Gl(){pp(),dp(zt.customerio)}function dp(t){let r=sc();ka(e=>{if(t&&r){let{siteId:n,orgId:o,region:i="US"}=t;e.writeAsync({type:"script",id:"cio-tracker",src:i==="US"?"https://assets.customer.io/assets/track.js":"https://assets.customer.io/assets/track-eu.js",dataset:{"site-id":n,"use-array-params":"true","in-app-org-id":o,"use-in-app":"true"}})}})}function pp(){let t=is();Jo.useEffect(()=>{if(window._cio=window._cio||[],!("pageHasLoaded"in window._cio)){let r=function(n){return function(...o){window._cio.push([n].concat(Array.prototype.slice.call(o,0)))}},e=["load","identify","sidentify","track","page"];for(let n=0;n<e.length;n++)window._cio[e[n]]=r(e[n])}},[]),Jo.useEffect(()=>{if(t){fp.info(`identify user as "${t.uid}"${t.email?` (email: ${t.email})`:""} with customer.io`);let r=t.metadata.creationTime?Math.floor(new Date(t.metadata.creationTime).getTime()/1e3):void 0;window._cio.identify({id:t.uid,email:t.email,created_at:r})}},[t])}a();var ql=P(x());function Xl(t){return ql.createElement(jl,{backend:Js},t.children)}a();var Je=P(x());Z();function Yl(){let{isDragging:t,item:r,currentOffset:e}=Wl(i=>({item:i.getItem(),currentOffset:i.getClientOffset(),isDragging:i.isDragging()})),[,n]=j(hp),[,o]=j(me);return Je.useEffect(()=>{t?window.document.body.classList.add("dragging"):window.document.body.classList.remove("dragging")},[t]),!t||!(r!=null&&r.previewLabel)?null:Je.createElement(Ke,null,Je.createElement(v,{style:[I.directionRow,I.alignCenter,n.dragAndDropPreview,mp(e)],pointerEvents:"none"},r.previewIcon?Je.createElement(v,{style:[p.Margin.mediumRight]},Je.createElement(R[r.previewIcon],{size:M.ICON_S,style:o.textInsideColor})):null,Je.createElement(v,null,Je.createElement(te,{style:[o.Label,o.textInsideColor]},r.previewLabel||"Drop to insert"))))}function mp(t){if(!t)return{display:"none"};let{x:r,y:e}=t;return{transform:[{translateX:r},{translateY:e}]}}var hp=re.create({dragAndDropPreview:t=>({position:"absolute",paddingHorizontal:p.large,paddingVertical:p.small,backgroundColor:t.colors.primary.main,borderRadius:M.RADIUS_L,zIndex:300,...t.shadows.base})});a();var Ar=P(x());function Kl(t){let{navigate:r}=ie(),e=sn(),{spaces:n}=Ut(),o=be(),i=Ar.useRef(new Set);return Ar.useEffect(()=>{let s=n.filter(c=>{var f;return ha(c)&&((f=ua(c.edits))==null?void 0:f.user)===o.uid});i.current.forEach(c=>{if(s.some(u=>u.key===c))return;i.current.delete(c);let f=n.find(u=>u.key===c);f?e.notifyOrUpdate({id:f.key,title:`"${f.title}" created`,details:"Space successfully duplicated.",kind:"success",icon:R.Duplicate,closeable:!0,timeout:5e3,onOpen:()=>{r({screen:{type:"space",space:f.key}})}}):e.close(c)}),s.forEach(c=>{i.current.has(c.key)||(i.current.add(c.key),e.notifyOrUpdate({id:c.key,title:`Copying content to "${c.title}"\u2026`,details:"Hang tight. This process may take a few seconds, up to a few minutes, depending on the number of pages and files.",kind:"default",icon:it,closeable:!0,timeout:0,onOpen:()=>{r({screen:{type:"space",space:c.key}})}}))})},[n]),Ar.useEffect(()=>()=>{i.current.forEach((s,c)=>{e.close(c)})},[]),null}a();var Oe=P(x());a();a();a();var et=function(){return et=Object.assign||function(r){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},et.apply(this,arguments)};function ei(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(e[n[o]]=t[n[o]]);return e}function $l(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),o=0,r=0;r<e;r++)for(var i=arguments[r],s=0,c=i.length;s<c;s++,o++)n[o]=i[s];return n}var Ur=P(x());a();var $e=P(x());a();var Pe=P(x());a();var Ot="right-scroll-bar-position",Tt="width-before-scroll-bar",ti="with-scroll-bars-hidden",ri="--removed-body-scroll-bar-size";a();a();function Zl(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}a();var Ql=P(x());function Jl(t,r){var e=(0,Ql.useState)(function(){return{value:t,callback:r,facade:{get current(){return e.value},set current(n){var o=e.value;o!==n&&(e.value=n,e.callback(n,o))}}}})[0];return e.callback=r,e.facade}a();function Lr(t,r){return Jl(r||null,function(e){return t.forEach(function(n){return Zl(n,e)})})}a();a();a();function eu(t){return t}function tu(t,r){r===void 0&&(r=eu);var e=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:t},useMedium:function(i){var s=r(i,n);return e.push(s),function(){e=e.filter(function(c){return c!==s})}},assignSyncMedium:function(i){for(n=!0;e.length;){var s=e;e=[],s.forEach(i)}e={push:function(c){return i(c)},filter:function(){return e}}},assignMedium:function(i){n=!0;var s=[];if(e.length){var c=e;e=[],c.forEach(i),s=e}var f=function(){var l=s;s=[],l.forEach(i)},u=function(){return Promise.resolve().then(f)};u(),e={push:function(l){s.push(l),u()},filter:function(l){return s=s.filter(l),e}}}};return o}function Nr(t,r){return r===void 0&&(r=eu),tu(t,r)}function It(t){t===void 0&&(t={});var r=tu(null);return r.options=Ye({async:!0,ssr:!1},t),r}a();var ru=P(x()),nu=function(t){var r=t.sideCar,e=Qr(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return ru.createElement(n,Ye({},e))};nu.isSideCarExport=!0;function Et(t,r){return t.useMedium(r),nu}var Bn=It();var ni=function(){},jn=Pe.forwardRef(function(t,r){var e=Pe.useRef(null),n=Pe.useState({onScrollCapture:ni,onWheelCapture:ni,onTouchMoveCapture:ni}),o=n[0],i=n[1],s=t.forwardProps,c=t.children,f=t.className,u=t.removeScrollBar,l=t.enabled,d=t.shards,h=t.sideCar,C=t.noIsolation,b=t.inert,g=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,E=Qr(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),N=h,_=Lr([e,r]),D=Ye(Ye({},E),o);return Pe.createElement(Pe.Fragment,null,l&&Pe.createElement(N,{sideCar:Bn,removeScrollBar:u,shards:d,noIsolation:C,inert:b,setCallbacks:i,allowPinchZoom:!!g,lockRef:e}),s?Pe.cloneElement(Pe.Children.only(c),Ye(Ye({},D),{ref:_})):Pe.createElement(y,Ye({},D,{className:f,ref:_}),c))});jn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jn.classNames={fullWidth:Tt,zeroRight:Ot};a();a();a();function ir(){return ir=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},ir.apply(this,arguments)}var Q=P(x()),$C=P(zo());a();var Mr="data-focus-lock",Un="data-focus-lock-disabled",ou="data-no-focus-lock",iu="data-autofocus-inside",au="data-no-autofocus";var lu=P(x());a();var ar=P(x()),jC=P(zo()),sr={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},su=function(r){var e=r.children;return ar.createElement(ar.Fragment,null,ar.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:sr}),e,e&&ar.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:sr}))};su.propTypes={};su.defaultProps={children:null};a();var Wn=Nr({},function(t){var r=t.target,e=t.currentTarget;return{target:r,currentTarget:e}}),Gn=Nr(),cu=Nr(),qn=It({async:!0});var vp=[],oi=Q.forwardRef(function(r,e){var n,o=Q.useState(),i=o[0],s=o[1],c=Q.useRef(),f=Q.useRef(!1),u=Q.useRef(null),l=r.children,d=r.disabled,h=r.noFocusGuards,C=r.persistentFocus,b=r.crossFrame,g=r.autoFocus,w=r.allowTextSelection,y=r.group,E=r.className,N=r.whiteList,_=r.hasPositiveIndices,D=r.shards,ce=D===void 0?vp:D,A=r.as,B=A===void 0?"div":A,$=r.lockProps,ge=$===void 0?{}:$,L=r.sideCar,U=r.returnFocus,Le=r.focusOptions,ve=r.onActivation,Ue=r.onDeactivation,yo=Q.useState({}),bo=yo[0],So=Q.useCallback(function(){u.current=u.current||document&&document.activeElement,c.current&&ve&&ve(c.current),f.current=!0},[ve]),wo=Q.useCallback(function(){f.current=!1,Ue&&Ue(c.current)},[Ue]);(0,lu.useEffect)(function(){d||(u.current=null)},[]);var Co=Q.useCallback(function(We){var bt=u.current;if(bt&&bt.focus){var m=typeof U=="function"?U(bt):U;if(m){var T=typeof m=="object"?m:void 0;u.current=null,We?Promise.resolve().then(function(){return bt.focus(T)}):bt.focus(T)}}},[U]),Xr=Q.useCallback(function(We){f.current&&Wn.useMedium(We)},[]),Po=Gn.useMedium,Ro=Q.useCallback(function(We){c.current!==We&&(c.current=We,s(We))},[]),Yr=ir((n={},n[Un]=d&&"disabled",n[Mr]=y,n),ge),Sr=h!==!0,xo=Sr&&h!=="tail",Oo=Lr([e,Ro]);return Q.createElement(Q.Fragment,null,Sr&&[Q.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:d?-1:0,style:sr}),_?Q.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:d?-1:1,style:sr}):null],!d&&Q.createElement(L,{id:bo,sideCar:qn,observed:i,disabled:d,persistentFocus:C,crossFrame:b,autoFocus:g,whiteList:N,shards:ce,onActivation:So,onDeactivation:wo,returnFocus:Co,focusOptions:Le}),Q.createElement(B,ir({ref:Oo},Yr,{className:E,onBlur:Po,onFocus:Xr}),l),xo&&Q.createElement("div",{"data-focus-guard":!0,tabIndex:d?-1:0,style:sr}))});oi.propTypes={};oi.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var uu=oi;a();function ii(t){var r=window,e=r.setImmediate;typeof e<"u"?e(t):setTimeout(t,1)}var fu=uu;a();var Xn=It(),Yn="data-focus-on-hidden";var du=$e.forwardRef(function(t,r){var e=$e.useState(!1),n=e[0],o=e[1],i=t.children,s=t.autoFocus,c=t.shards,f=t.enabled,u=f===void 0?!0:f,l=t.scrollLock,d=l===void 0?!0:l,h=t.focusLock,C=h===void 0?!0:h,b=t.returnFocus,g=b===void 0?!0:b,w=t.inert,y=t.allowPinchZoom,E=t.sideCar,N=t.className,_=t.shouldIgnore,D=t.style,ce=t.as,A=ei(t,["children","autoFocus","shards","enabled","scrollLock","focusLock","returnFocus","inert","allowPinchZoom","sideCar","className","shouldIgnore","style","as"]),B=E,$=n.onActivation,ge=n.onDeactivation,L=ei(n,["onActivation","onDeactivation"]),U=et(et({},L),{sideCar:E,shards:c,allowPinchZoom:y,as:ce,inert:w,style:D,enabled:u&&d});return $e.createElement($e.Fragment,null,$e.createElement(fu,{ref:r,sideCar:E,disabled:!(n&&u&&C),returnFocus:g,autoFocus:s,shards:c,onActivation:$,onDeactivation:ge,className:N,whiteList:_,lockProps:U,as:jn},i),u&&$e.createElement(B,et({},A,{sideCar:Xn,setLockProps:o,shards:c})))});a();a();a();var ku=P(x()),px=P(zo());a();a();a();function zr(t,r){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},zr(t,r)}function ai(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,zr(t,r)}a();function si(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var Kn=P(x());function yp(t,r){function e(n){return n.displayName||n.name||"Component"}return function(o){var i=[],s;function c(){s=t(i.map(function(u){return u.props})),r(s)}var f=function(u){ai(l,u);function l(){return u.apply(this,arguments)||this}l.peek=function(){return s};var d=l.prototype;return d.componentDidMount=function(){i.push(this),c()},d.componentDidUpdate=function(){c()},d.componentWillUnmount=function(){var C=i.indexOf(this);i.splice(C,1),c()},d.render=function(){return Kn.default.createElement(o,this.props)},l}(Kn.PureComponent);return si(f,"displayName","SideEffect("+e(o)+")"),f}}var pu=yp;a();a();a();a();var Re=function(t){for(var r=Array(t.length),e=0;e<t.length;++e)r[e]=t[e];return r},Vr=function(t){return Array.isArray(t)?t:[t]};a();var bp=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var r=window.getComputedStyle(t,null);return!r||!r.getPropertyValue?!1:r.getPropertyValue("display")==="none"||r.getPropertyValue("visibility")==="hidden"},mu=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},hu=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},Sp=function(t,r){return!t||hu(t)||!bp(t)&&r(mu(t))},ci=function(t,r){var e=t.get(r);if(e!==void 0)return e;var n=Sp(r,ci.bind(void 0,t));return t.set(r,n),n},wp=function(t,r){return t&&!hu(t)?Pp(t)?r(mu(t)):!1:!0},li=function(t,r){var e=t.get(r);if(e!==void 0)return e;var n=wp(r,li.bind(void 0,t));return t.set(r,n),n},ui=function(t){return t.dataset},Cp=function(t){return t.tagName==="BUTTON"},gu=function(t){return t.tagName==="INPUT"},fi=function(t){return gu(t)&&t.type==="radio"},vu=function(t){return!((gu(t)||Cp(t))&&(t.type==="hidden"||t.disabled))},Pp=function(t){var r=t.getAttribute(au);return![!0,"true",""].includes(r)},Fr=function(t){var r;return Boolean(t&&((r=ui(t))===null||r===void 0?void 0:r.focusGuard))},cr=function(t){return!Fr(t)},yu=function(t){return Boolean(t)};a();var Rp=function(t,r){var e=t.tabIndex-r.tabIndex,n=t.index-r.index;if(e){if(!t.tabIndex)return 1;if(!r.tabIndex)return-1}return e||n},di=function(t,r,e){return Re(t).map(function(n,o){return{node:n,index:o,tabIndex:e&&n.tabIndex===-1?(n.dataset||{}).focusGuard?0:-1:n.tabIndex}}).filter(function(n){return!r||n.tabIndex>=0}).sort(Rp)};a();a();var bu=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"];var pi=bu.join(","),xp="".concat(pi,", [data-focus-guard]"),Su=function(t,r){var e;return Re(((e=t.shadowRoot)===null||e===void 0?void 0:e.children)||t.children).reduce(function(n,o){return n.concat(o.matches(r?xp:pi)?[o]:[],Su(o))},[])},$n=function(t,r){return t.reduce(function(e,n){return e.concat(Su(n,r),n.parentNode?Re(n.parentNode.querySelectorAll(pi)).filter(function(o){return o===n}):[])},[])},wu=function(t){var r=t.querySelectorAll("[".concat(iu,"]"));return Re(r).map(function(e){return $n([e])}).reduce(function(e,n){return e.concat(n)},[])};var mi=function(t,r){return Re(t).filter(function(e){return ci(r,e)}).filter(function(e){return vu(e)})},hi=function(t,r){return r===void 0&&(r=new Map),Re(t).filter(function(e){return li(r,e)})},Hr=function(t,r,e){return di(mi($n(t,e),r),!0,e)},gi=function(t,r){return di(mi($n(t),r),!1)},Cu=function(t,r){return mi(wu(t),r)},mt=function(t,r){return t.shadowRoot?mt(t.shadowRoot,r):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,r)?!0:Re(t.children).some(function(e){return mt(e,r)})};a();var Op=function(t){for(var r=new Set,e=t.length,n=0;n<e;n+=1)for(var o=n+1;o<e;o+=1){var i=t[n].compareDocumentPosition(t[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&r.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&r.add(n)}return t.filter(function(s,c){return!r.has(c)})},Pu=function(t){return t.parentNode?Pu(t.parentNode):t},lr=function(t){var r=Vr(t);return r.filter(Boolean).reduce(function(e,n){var o=n.getAttribute(Mr);return e.push.apply(e,o?Op(Re(Pu(n).querySelectorAll("[".concat(Mr,'="').concat(o,'"]:not([').concat(Un,'="disabled"])')))):[n]),e},[])};a();var Ru=function(t){return t.activeElement?t.activeElement.shadowRoot?Ru(t.activeElement.shadowRoot):t.activeElement:void 0},ur=function(){return document.activeElement?document.activeElement.shadowRoot?Ru(document.activeElement.shadowRoot):document.activeElement:void 0};var Tp=function(t){return t===document.activeElement},Ip=function(t){return Boolean(Re(t.querySelectorAll("iframe")).some(function(r){return Tp(r)}))},Zn=function(t){var r=document&&ur();return!r||r.dataset&&r.dataset.focusGuard?!1:lr(t).some(function(e){return mt(e,r)||Ip(e)})};a();var vi=function(){var t=document&&ur();return t?Re(document.querySelectorAll("[".concat(ou,"]"))).some(function(r){return mt(r,t)}):!1};a();a();a();var Ep=function(t,r){return r.filter(fi).filter(function(e){return e.name===t.name}).filter(function(e){return e.checked})[0]||t},Qn=function(t,r){return fi(t)&&t.name?Ep(t,r):t},xu=function(t){var r=new Set;return t.forEach(function(e){return r.add(Qn(e,t))}),t.filter(function(e){return r.has(e)})};a();var yi=function(t){return t[0]&&t.length>1?Qn(t[0],t):t[0]},bi=function(t,r){return t.length>1?t.indexOf(Qn(t[r],t)):r};var Si="NEW_FOCUS",Ou=function(t,r,e,n){var o=t.length,i=t[0],s=t[o-1],c=Fr(e);if(!(e&&t.indexOf(e)>=0)){var f=e!==void 0?r.indexOf(e):-1,u=n?r.indexOf(n):f,l=n?t.indexOf(n):-1,d=f-u,h=r.indexOf(i),C=r.indexOf(s),b=xu(r),g=e!==void 0?b.indexOf(e):-1,w=g-(n?b.indexOf(n):f),y=bi(t,0),E=bi(t,o-1);if(f===-1||l===-1)return Si;if(!d&&l>=0)return l;if(f<=h&&c&&Math.abs(d)>1)return E;if(f>=C&&c&&Math.abs(d)>1)return y;if(d&&Math.abs(w)>1)return l;if(f<=h)return E;if(f>C)return y;if(d)return Math.abs(d)>1?l:(o+l+d)%o}};a();var Dp=function(t){return function(r){var e,n=(e=ui(r))===null||e===void 0?void 0:e.autofocus;return r.autofocus||n!==void 0&&n!=="false"||t.indexOf(r)>=0}},Tu=function(t,r,e){var n=t.map(function(i){var s=i.node;return s}),o=hi(n.filter(Dp(e)));return o&&o.length?yi(o):yi(hi(r))};a();var Ci=function(t,r){return r===void 0&&(r=[]),r.push(t),t.parentNode&&Ci(t.parentNode.host||t.parentNode,r),r},wi=function(t,r){for(var e=Ci(t),n=Ci(r),o=0;o<e.length;o+=1){var i=e[o];if(n.indexOf(i)>=0)return i}return!1},Jn=function(t,r,e){var n=Vr(t),o=Vr(r),i=n[0],s=!1;return o.filter(Boolean).forEach(function(c){s=wi(s||c,c)||s,e.filter(Boolean).forEach(function(f){var u=wi(i,f);u&&(!s||mt(u,s)?s=u:s=wi(u,s))})}),s},Iu=function(t,r){return t.reduce(function(e,n){return e.concat(Cu(n,r))},[])};var _p=function(t,r){var e=new Map;return r.forEach(function(n){return e.set(n.node,n)}),t.map(function(n){return e.get(n)}).filter(yu)},Eu=function(t,r){var e=document&&ur(),n=lr(t).filter(cr),o=Jn(e||t,t,n),i=new Map,s=gi(n,i),c=Hr(n,i).filter(function(h){var C=h.node;return cr(C)});if(!(!c[0]&&(c=s,!c[0]))){var f=gi([o],i).map(function(h){var C=h.node;return C}),u=_p(f,c),l=u.map(function(h){var C=h.node;return C}),d=Ou(l,f,e,r);return d===Si?{node:Tu(s,l,Iu(n,i))}:d===void 0?d:u[d]}};a();var Pi=function(t){var r=lr(t).filter(cr),e=Jn(t,t,r),n=new Map,o=Hr([e],n,!0),i=Hr(r,n).filter(function(s){var c=s.node;return cr(c)}).map(function(s){var c=s.node;return c});return o.map(function(s){var c=s.node,f=s.index;return{node:c,index:f,lockItem:i.indexOf(c)>=0,guard:Fr(c)}})};a();var kp=function(t,r){"focus"in t&&t.focus(r),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus()},Ri=0,xi=!1,Du=function(t,r,e){e===void 0&&(e={});var n=Eu(t,r);if(!xi&&n){if(Ri>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),xi=!0,setTimeout(function(){xi=!1},1);return}Ri++,kp(n.node,e.focusOptions),Ri--}};var Oi=Du;var Ap=function(){return document&&document.activeElement===document.body},Lp=function(){return Ap()||vi()},dr=null,fr=null,pr=null,Br=!1,Np=function(){return!0},Mp=function(r){return(dr.whiteList||Np)(r)},zp=function(r,e){pr={observerNode:r,portaledElement:e}},Vp=function(r){return pr&&pr.portaledElement===r};function _u(t,r,e,n){var o=null,i=t;do{var s=n[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==t)return;o=null}else break}while((i+=e)!==r);o&&(o.node.tabIndex=0)}var Fp=function(r){return r&&"current"in r?r.current:r},Hp=function(r){return r?Boolean(Br):Br==="meanwhile"},Bp=function t(r,e,n){return e&&(e.host===r&&(!e.activeElement||n.contains(e.activeElement))||e.parentNode&&t(r,e.parentNode,n))},jp=function(r,e){return e.some(function(n){return Bp(r,n,n)})},eo=function(){var r=!1;if(dr){var e=dr,n=e.observed,o=e.persistentFocus,i=e.autoFocus,s=e.shards,c=e.crossFrame,f=e.focusOptions,u=n||pr&&pr.portaledElement,l=document&&document.activeElement;if(u){var d=[u].concat(s.map(Fp).filter(Boolean));if((!l||Mp(l))&&(o||Hp(c)||!Lp()||!fr&&i)&&(u&&!(Zn(d)||l&&jp(l,d)||Vp(l,u))&&(document&&!fr&&l&&!i?(l.blur&&l.blur(),document.body.focus()):(r=Oi(d,fr,{focusOptions:f}),pr={})),Br=!1,fr=document&&document.activeElement),document){var h=document&&document.activeElement,C=Pi(d),b=C.map(function(g){var w=g.node;return w}).indexOf(h);b>-1&&(C.filter(function(g){var w=g.guard,y=g.node;return w&&y.dataset.focusAutoGuard}).forEach(function(g){var w=g.node;return w.removeAttribute("tabIndex")}),_u(b,C.length,1,C),_u(b,-1,-1,C))}}}return r},Au=function(r){eo()&&r&&(r.stopPropagation(),r.preventDefault())},to=function(){return ii(eo)},Lu=function(r){var e=r.target,n=r.currentTarget;n.contains(e)||zp(n,e)},Up=function(){return null},Wp=function(r){var e=r.children;return ku.createElement("div",{onBlur:to,onFocus:Lu},e)};Wp.propTypes={};var Nu=function(){Br="just",setTimeout(function(){Br="meanwhile"},0)},Gp=function(){document.addEventListener("focusin",Au),document.addEventListener("focusout",to),window.addEventListener("blur",Nu)},qp=function(){document.removeEventListener("focusin",Au),document.removeEventListener("focusout",to),window.removeEventListener("blur",Nu)};function Xp(t){return t.filter(function(r){var e=r.disabled;return!e})}function Yp(t){var r=t.slice(-1)[0];r&&!dr&&Gp();var e=dr,n=e&&r&&r.id===e.id;dr=r,e&&!n&&(e.onDeactivation(),t.filter(function(o){var i=o.id;return i===e.id}).length||e.returnFocus(!r)),r?(fr=null,(!n||e.observed!==r.observed)&&r.onActivation(),eo(!0),ii(eo)):(qp(),fr=null)}Wn.assignSyncMedium(Lu);Gn.assignMedium(to);cu.assignMedium(function(t){return t({moveFocusInside:Oi,focusInside:Zn})});var Mu=pu(Xp,Yp)(Up);var Rx=Et(qn,Mu);a();a();var J=P(x());a();a();var ro=P(x());a();a();a();var Fu=P(x());a();a();var zu;var Vu=function(){if(zu)return zu;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Kp(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=Vu();return r&&t.setAttribute("nonce",r),t}function $p(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function Zp(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var Ti=function(){var t=0,r=null;return{add:function(e){t==0&&(r=Kp())&&($p(r,e),Zp(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}};var Ii=function(){var t=Ti();return function(r,e){Fu.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&e])}};var Dt=function(){var t=Ii(),r=function(e){var n=e.styles,o=e.dynamic;return t(n,o),null};return r};a();var Qp={left:0,top:0,right:0,gap:0},Ei=function(t){return parseInt(t||"",10)||0},Jp=function(t){var r=window.getComputedStyle(document.body),e=r[t==="padding"?"paddingLeft":"marginLeft"],n=r[t==="padding"?"paddingTop":"marginTop"],o=r[t==="padding"?"paddingRight":"marginRight"];return[Ei(e),Ei(n),Ei(o)]},Di=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Qp;var r=Jp(t),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-e+r[2]-r[0])}};var em=Dt(),tm=function(t,r,e,n){var o=t.left,i=t.top,s=t.right,c=t.gap;return e===void 0&&(e="margin"),`
  .`.concat(ti,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ot,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Tt,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ot," .").concat(Ot,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tt," .").concat(Tt,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(ri,": ").concat(c,`px;
  }
`)},_i=function(t){var r=t.noRelative,e=t.noImportant,n=t.gapMode,o=n===void 0?"margin":n,i=ro.useMemo(function(){return Di(o)},[o]);return ro.createElement(em,{styles:tm(i,!r,o,e?"":"!important")})};a();var ki=!1;if(typeof window<"u")try{jr=Object.defineProperty({},"passive",{get:function(){return ki=!0,!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch(t){ki=!1}var jr,_t=ki?{passive:!1}:!1;a();var rm=function(t){return t.tagName==="TEXTAREA"},Hu=function(t,r){var e=window.getComputedStyle(t);return e[r]!=="hidden"&&!(e.overflowY===e.overflowX&&!rm(t)&&e[r]==="visible")},nm=function(t){return Hu(t,"overflowY")},om=function(t){return Hu(t,"overflowX")},Ai=function(t,r){var e=r;do{typeof ShadowRoot<"u"&&e instanceof ShadowRoot&&(e=e.host);var n=Bu(t,e);if(n){var o=ju(t,e),i=o[1],s=o[2];if(i>s)return!0}e=e.parentNode}while(e&&e!==document.body);return!1},im=function(t){var r=t.scrollTop,e=t.scrollHeight,n=t.clientHeight;return[r,e,n]},am=function(t){var r=t.scrollLeft,e=t.scrollWidth,n=t.clientWidth;return[r,e,n]},Bu=function(t,r){return t==="v"?nm(r):om(r)},ju=function(t,r){return t==="v"?im(r):am(r)},sm=function(t,r){return t==="h"&&r==="rtl"?-1:1},Uu=function(t,r,e,n,o){var i=sm(t,window.getComputedStyle(r).direction),s=i*n,c=e.target,f=r.contains(c),u=!1,l=s>0,d=0,h=0;do{var C=ju(t,c),b=C[0],g=C[1],w=C[2],y=g-w-i*b;(b||y)&&Bu(t,c)&&(d+=y,h+=b),c=c.parentNode}while(!f&&c!==document.body||f&&(r.contains(c)||r===c));return(l&&(o&&d===0||!o&&s>d)||!l&&(o&&h===0||!o&&-s>h))&&(u=!0),u};var no=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wu=function(t){return[t.deltaX,t.deltaY]},Gu=function(t){return t&&"current"in t?t.current:t},cm=function(t,r){return t[0]===r[0]&&t[1]===r[1]},lm=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},um=0,mr=[];function qu(t){var r=J.useRef([]),e=J.useRef([0,0]),n=J.useRef(),o=J.useState(um++)[0],i=J.useState(function(){return Dt()})[0],s=J.useRef(t);J.useEffect(function(){s.current=t},[t]),J.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var g=na([t.lockRef.current],(t.shards||[]).map(Gu),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var c=J.useCallback(function(g,w){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var y=no(g),E=e.current,N="deltaX"in g?g.deltaX:E[0]-y[0],_="deltaY"in g?g.deltaY:E[1]-y[1],D,ce=g.target,A=Math.abs(N)>Math.abs(_)?"h":"v";if("touches"in g&&A==="h"&&ce.type==="range")return!1;var B=Ai(A,ce);if(!B)return!0;if(B?D=A:(D=A==="v"?"h":"v",B=Ai(A,ce)),!B)return!1;if(!n.current&&"changedTouches"in g&&(N||_)&&(n.current=D),!D)return!0;var $=n.current||D;return Uu($,w,g,$==="h"?N:_,!0)},[]),f=J.useCallback(function(g){var w=g;if(!(!mr.length||mr[mr.length-1]!==i)){var y="deltaY"in w?Wu(w):no(w),E=r.current.filter(function(D){return D.name===w.type&&D.target===w.target&&cm(D.delta,y)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var N=(s.current.shards||[]).map(Gu).filter(Boolean).filter(function(D){return D.contains(w.target)}),_=N.length>0?c(w,N[0]):!s.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=J.useCallback(function(g,w,y,E){var N={name:g,delta:w,target:y,should:E};r.current.push(N),setTimeout(function(){r.current=r.current.filter(function(_){return _!==N})},1)},[]),l=J.useCallback(function(g){e.current=no(g),n.current=void 0},[]),d=J.useCallback(function(g){u(g.type,Wu(g),g.target,c(g,t.lockRef.current))},[]),h=J.useCallback(function(g){u(g.type,no(g),g.target,c(g,t.lockRef.current))},[]);J.useEffect(function(){return mr.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",f,_t),document.addEventListener("touchmove",f,_t),document.addEventListener("touchstart",l,_t),function(){mr=mr.filter(function(g){return g!==i}),document.removeEventListener("wheel",f,_t),document.removeEventListener("touchmove",f,_t),document.removeEventListener("touchstart",l,_t)}},[]);var C=t.removeScrollBar,b=t.inert;return J.createElement(J.Fragment,null,b?J.createElement(i,{styles:lm(o)}):null,C?J.createElement(_i,{gapMode:"margin"}):null)}var hO=Et(Bn,qu);a();var ao=P(x());a();var fm=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},hr=new WeakMap,oo=new WeakMap,io={},Li=0,dm=function(t,r,e,n){var o=Array.isArray(t)?t:[t];io[e]||(io[e]=new WeakMap);var i=io[e],s=[],c=new Set,f=new Set(o),u=function(d){!d||c.has(d)||(c.add(d),u(d.parentNode))};o.forEach(u);var l=function(d){!d||f.has(d)||Array.prototype.forEach.call(d.children,function(h){if(c.has(h))l(h);else{var C=h.getAttribute(n),b=C!==null&&C!=="false",g=(hr.get(h)||0)+1,w=(i.get(h)||0)+1;hr.set(h,g),i.set(h,w),s.push(h),g===1&&b&&oo.set(h,!0),w===1&&h.setAttribute(e,"true"),b||h.setAttribute(n,"true")}})};return l(r),c.clear(),Li++,function(){s.forEach(function(d){var h=hr.get(d)-1,C=i.get(d)-1;hr.set(d,h),i.set(d,C),h||(oo.has(d)||d.removeAttribute(n),oo.delete(d)),C||d.removeAttribute(e)}),Li--,Li||(hr=new WeakMap,hr=new WeakMap,oo=new WeakMap,io={})}},Xu=function(t,r,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),o=r||fm(t);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),dm(n,o,e,"aria-hidden")):function(){return null}};a();var Yu=P(x());var pm=Dt(),mm=`
 [`+Yn+`] {
   pointer-events: none !important;
 }
`,Ku=function(){return Yu.createElement(pm,{styles:mm})};var ht=P(x()),$u=function(t){return"current"in t?t.current:t};function Zu(t){var r=t.setLockProps,e=t.onEscapeKey,n=t.onClickOutside,o=t.shards,i=t.onActivation,s=t.onDeactivation,c=t.noIsolation,f=(0,ht.useState)(void 0),u=f[0],l=f[1],d=(0,ht.useRef)(null),h=(0,ht.useRef)(0);return ao.useEffect(function(){var C=function(y){y.defaultPrevented||(y.code==="Escape"||y.key==="Escape"||y.keyCode===27)&&e&&e(y)},b=function(y){y.defaultPrevented||y.target===d.current||y instanceof MouseEvent&&y.button!==0||o&&o.map($u).some(function(E){return E&&E.contains(y.target)||E===y.target})||n&&n(y)},g=function(y){b(y),h.current=y.touches.length},w=function(y){h.current=y.touches.length};if(u)return document.addEventListener("keydown",C),document.addEventListener("mousedown",b),document.addEventListener("touchstart",g),document.addEventListener("touchend",w),function(){document.removeEventListener("keydown",C),document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",g),document.removeEventListener("touchend",w)}},[u,n,e]),(0,ht.useEffect)(function(){if(u)return i&&i(u),function(){s&&s()}},[!!u]),(0,ht.useEffect)(function(){var C=function(){return null},b=!1,g=function(y){c||(C=Xu($l([y],(o||[]).map($u)),document.body,Yn)),l(function(){return y})},w=function(){C(),b||l(null)};return r({onMouseDown:function(y){d.current=y.target},onTouchStart:function(y){d.current=y.target},onActivation:g,onDeactivation:w}),function(){b=!0,r(!1)}},[]),ao.createElement(Ku,null)}var Qu=Et(Xn,Zu);var hm=function(t){return Ur.createElement(Qu,et({},t))},Ni=Ur.forwardRef(function(t,r){return Ur.createElement(du,et({},t,{ref:r,sideCar:hm}))});Z();var uf=P(lf());function ff(t){let r=Oe.useRef(null),[e,n]=rt($s),{medias:o,currentIndex:i}=e,s=()=>{n({medias:[],currentIndex:0})},c=()=>{n(l=>({...l,currentIndex:Math.max(l.currentIndex-1,0)}))},f=()=>{n(l=>({...l,currentIndex:Math.min(l.currentIndex+1,l.medias.length-1)}))},u=l=>{n(d=>({...d,currentIndex:l}))};return nn({opened:o.length>0,closeOnClick:!1,closeOnOutsideClick:!1,closeOnScroll:!1,closeOnEsc:!0,onClose:s},r),hn(o.length?{Left:()=>c(),Right:()=>f()}:{},"all",[n,!o.length]),o.length?Oe.createElement(Ke,{ref:r},Oe.createElement(Ni,null,Oe.createElement(v,{style:vr.imagesZoonPortal},Oe.createElement(uf.default,{imageUrls:o.map(l=>({url:l.url})),index:i,renderIndicator:l=>Oe.createElement(v,{style:vr.indactor},Oe.createElement(v,{style:vr.indicatorElement}),Oe.createElement(v,{style:[vr.indicatorElement,I.alignCenter,I.justifyContentCenter]},Oe.createElement(te,{style:vr.indicatorText},`${l}/${o.length}`)),Oe.createElement(v,{style:[vr.indicatorElement,I.alignEnd,I.justifyContentCenter]},Oe.createElement(he,{icon:R.X,defaultTextStyle:{color:wr.WHITE},onPress:()=>s()}))),renderArrowLeft:()=>Oe.createElement(he,{icon:R.ChevronLeft,defaultTextStyle:{color:wr.WHITE},onPress:()=>c()}),renderArrowRight:()=>Oe.createElement(he,{icon:R.ChevronRight,defaultTextStyle:{color:wr.WHITE},onPress:()=>f()}),onChange:l=>u(l),onCancel:()=>s(),enableSwipeDown:!0})))):null}var vr=Xe.create({imagesZoonPortal:{position:"fixed",top:0,left:0,right:0,bottom:0},indactor:{height:48,position:"absolute",left:0,top:0,right:0,display:"flex",flexDirection:"row",zIndex:20},indicatorElement:{flex:1},indicatorText:{color:wr.WHITE}});a();var k=P(x());Z();a();var de=P(x());Z();var _m=nt("app:crash");function df(t){let{children:r}=t,e=de.useCallback((n,o,i)=>{_m.emergency(`An error occured during rendering:

`,n,`

The error is located at:
`,o),ue({type:"crash",crashType:Ui(n),sentryEvent:i})},[]);return de.createElement(ca,{fallback:n=>de.createElement(km,{...n}),onError:e,beforeCapture:Nm},r)}function km(t){let{eventId:r,error:e}=t,[,n]=j(Mm),o=()=>{sa({eventId:r})},i=()=>{window.location.reload()};de.useEffect(()=>{let c=document.querySelector(".gitbook-splashscreen");c==null||c.remove()},[]);let s=()=>{switch(Ui(e)){case"network-crash":return de.createElement(Lm,{onReload:i,...t});case"crash":default:return de.createElement(Am,{onShareFeedback:o,onReload:i,...t})}};return de.createElement(v,{style:[n.background]},s())}function Am(t){let r=Ir(),{onReload:e,onShareFeedback:n}=t;return de.createElement(Rr,{title:r("something_wrong"),action:de.createElement(de.Fragment,null,de.createElement(he,{kind:"primary",size:"medium",onPress:e,style:p.Margin.smallRight},r("reload")),de.createElement(he,{kind:"secondary",size:"medium",onPress:n},r("let_us_know")))},r("we_have_been_notified"))}function Lm(t){let{onReload:r}=t,e=Ir(),n=()=>{window.open("https://docs.gitbook.com/resources/firewall-safelist","_blank")};return de.createElement(Rr,{title:e("connection_lost"),icon:R.CloudOff,action:de.createElement(de.Fragment,null,de.createElement(he,{kind:"primary",size:"medium",onPress:r,style:p.Margin.smallRight},e("reload")),de.createElement(he,{size:"medium",icon:R.Link,onPress:n},e("network_troubleshooting")))},e("device_offline"))}function Nm(t,r){switch(Ui(r)){case"network-crash":t.setTag("error_category","network-crash");break;case"crash":default:t.setTag("error_category","react-crash")}}function Ui(t){return t.name==="FirebaseError"&&t.code==="unavailable"?"network-crash":"crash"}var Mm=re.create({background:t=>({backgroundColor:t.colors.background.main,minHeight:"100vh"})});a();var Ae=P(x());a();var pf=P(x());function Wi(t){let[,{open:r}]=Bt(),e=Qa(),n=pf.useMemo(()=>({[mn.PALETTE_OPEN]:()=>r(),...e}),[r,e]);return hn(n,["application","editor-selection-collapsed"],[n]),null}a();function mf(t){let r=be(),{navigate:e}=ie();return Ht(()=>({key:"navigation",title:"Navigation",commands:[{key:"navigation.goToSettings",title:"Go to settings",icon:R.ArrowRight,trigger:()=>{e({overlay:{type:"account",tab:"profile"}})}},{key:"navigation.switchOrganization",title:"Go to organization\u2026",icon:R.ArrowRight,trigger:()=>zm(r.uid,n=>{e({screen:{type:"home",organization:n.key}})},()=>{ue({type:"organization_open_create",reason:"sidebar_menu"}),e({overlay:{type:"welcome",organizationType:"business",hash:"sidebar_menu"}})})}]}),[e,r.uid]),null}function zm(t,r,e){return xe({search:"Search organizations\u2026",groups:[{key:"organizations",commands:()=>{let[n]=Be([Vt(t)]);return Be(n.map(i=>ot(i.organization))).filter(we).map(i=>({key:i.key,title:i.title,icon:De(_e,{org:i}),trigger:()=>{r(i)}}))}},{key:"organization-controls",commands:[{key:"create-organization",title:"Create an organization",icon:R.Organization,trigger:()=>{e()}}]}]})}a();var uo=P(x());function hf(t){let{navigate:r}=ie();return Ht(()=>[Fm(r),Vm(r),Hm(r)],[,r]),null}function Vm(t){return{key:"search.content",title:"Search",filters:[Bm,jm],commands:r=>{if(!Gi(r))return[];let e=jt.read({query:r.query.text,types:r.query.text?["pages","sections"]:["pages"],filters:{pages:fo(r),sections:fo(r)},analyticsTags:qi(r)});return us(e,n=>{if(n.index!=="pages"&&n.index!=="sections")return null;let[[o],i]=dc([()=>Be([pa(n.object.space)]),()=>Ks({space:n.object.space,revision:n.object.revision})]);if(!o||!i)return null;let s=i.pages[n.object.page];if(!s)return null;let c=s.emoji?De(rs,{code:s.emoji}):void 0,f={title:o.title||en,icon:De(Tr,{space:o})};switch(n.index){case"pages":return{key:n.object.objectID,icon:c,label:f,title:n.object.title,subtitle:n.object.description,trigger:()=>{ue({type:"palette_open_search_result",index:n.index}),t({screen:{type:"space",space:n.object.space,page:n.object.path}})}};case"sections":return{key:n.object.objectID,icon:c,label:f,title:n.object.title?n.object.title:s.title,subtitle:n.object.title?s.title:void 0,body:n.object.body.split(`
`).filter(Boolean).slice(0,5),trigger:()=>{ue({type:"palette_open_search_result",index:n.index}),t({screen:{type:"space",space:n.object.space,page:da(i,s.key),hash:n.object.anchor}})}}}}).filter(we)}}}function Fm(t){return{key:"search.spaces",title:"Spaces",commands:r=>Gi(r)?jt.read({query:r.query.text,types:["spaces"],filters:{spaces:fo(r)},analyticsTags:qi(r)}).map(n=>n.index!=="spaces"?null:po(n,()=>{t({screen:{type:"space",space:n.object.objectID,page:""}}),ue({type:"palette_open_search_result",index:n.index})})).filter(we):[]}}function Hm(t){return{key:"search.users",title:"Users",commands:r=>Gi(r)?jt.read({query:r.query.text,types:["users"],filters:{users:fo(r)},analyticsTags:qi(r)}).map(n=>n.index!=="users"?null:po(n,()=>{ue({type:"palette_open_search_result",index:n.index})})).filter(we):[]}}var Bm={key:"in",title:"space or organization",commands:t=>jt.read({query:t.query.text,types:["spaces","organizations"]}).map(e=>po(e,n=>{switch(e.index){case"organizations":return cn(n,"in",{text:e.object.title,value:{organization:e.object.objectID}});case"spaces":return cn(n,"in",{text:e.object.title,value:{space:e.object.objectID}})}}))},jm={key:"by",title:"anyone who has edited or created content",commands:t=>jt.read({query:t.query.text,types:["users"]}).map(e=>{if(e.index!=="users")throw new Error("invalid result");return po(e,n=>cn(n,"by",{text:e.object.displayName,value:e.object.objectID}))})};function Gi(t){return Boolean(t.query.text||Object.keys(t.query.filters).length>0)}function fo(t){let{filters:r}=t.query,e=[];return r.in&&(r.in.value.organization?e.push(`organization:${r.in.value.organization}`):r.in.value.space&&e.push(`space:${r.in.value.space}`)),r.by&&e.push(`editedBy:${r.by.value}`),e.length>0?e.join(" AND "):void 0}function qi(t){let{filters:r}=t.query,e=[];return r.in&&r.in.value.space&&e.push({type:"space",space:r.in.value.space}),e}function po(t,r){switch(t.index){case"organizations":return{key:t.object.objectID,title:t.object.title,icon:()=>uo.createElement(_e,{org:t.object,size:M.ICON_XL}),trigger:r};case"spaces":return{key:t.object.objectID,title:t.object.title,icon:()=>uo.createElement(Tr,{space:t.object,size:M.ICON_XL}),trigger:r};case"users":return{key:t.object.objectID,title:t.object.displayName,icon:()=>uo.createElement(Wt,{user:t.object,size:M.ICON_XL}),trigger:r};default:throw new Error("Unhandled result")}}a();var gf=P(x());function Xi(t){let[r,{close:e,setQuery:n}]=Bt(),o=at(),i=rn(1e3);return Ja(s=>{if(!s||s.position){typeof r<"u"&&(i.cancel(),e());return}s.query.text!==r&&i(()=>n(s.query.text))}),gf.useEffect(()=>{if(typeof r<"u"&&!o.opened){o.open(),o.typeQuery(r);return}},[o,r]),null}function vf(t){let{screen:r}=ls();return r.type!=="back_office"?Ae.createElement(Ae.Fragment,null,Ae.createElement(hf,null),Ae.createElement(Wi,null),Ae.createElement(mf,null),Ae.createElement(Xi,null)):Ae.createElement(Ae.Fragment,null,Ae.createElement(hs,null),Ae.createElement(Wi,null),Ae.createElement(Xi,null))}a();var yt=P(x());a();var Se=P(x());Z();a();var Ie=P(x());a();var Te=P(x());Z();function yf(t){let{onClose:r}=t,[,e]=j(Um),n=Bs();return Te.createElement(Ma,{title:"Help and Feedback",onClose:r,size:"small"},Te.createElement(v,{style:[e.cardsWrapper]},Te.createElement(v,{style:e.actionCard},Te.createElement(xr,{kind:"blank",url:"https://docs.gitbook.com/resources/keyboard-shortcuts"},Te.createElement(R.EnterKey,{style:p.Margin.smallRight}),"Keyboard shortcuts")),Te.createElement(v,{style:e.actionCard},Te.createElement(xr,{kind:"blank",url:"https://docs.gitbook.com/"},Te.createElement(R.Page,{style:p.Margin.smallRight}),"Read the docs")),Te.createElement(v,{style:e.actionCard},Te.createElement(xr,{kind:"blank",url:"https://github.com/GitbookIO/community/discussions"},Te.createElement(R.Bulb,{style:p.Margin.smallRight}),"Suggest a feature / share feedback")),Te.createElement(v,{style:e.actionCard},Te.createElement(xr,{kind:"blank",onPress:()=>n()},Te.createElement(R.Send,{style:p.Margin.smallRight}),"Contact support"))))}var Um=re.create({actionCard:t=>({flexBasis:"100%",marginBottom:p.small,borderWidth:1,borderColor:t.colors.border.main,borderRadius:4,padding:p.small}),cardsWrapper:{flexDirection:"column"}});function bf(t){let[r,e]=Ie.useState(null),{signOut:n}=js(),{navigate:o}=ie(),i=be(),c=Sa().color==="light",f=Ie.useMemo(()=>({key:"settings",commands:()=>{let[h]=Be([Vt(i.uid)]);return[...Be(h.map(b=>ot(b.organization))).map((b,g)=>{let w=h[g];return!b||!St(w.role,"admin-profile")?null:{key:`settings.${b.key}`,title:`${b.title} Settings`,icon:De(_e,{org:b}),trigger:()=>{o({overlay:{type:"org_settings",organization:b.key,tab:{type:"profile"}}})}}}).filter(we),{key:"settings.personal",title:"Personal Settings",icon:De(Wt,{user:i,squared:!0}),trigger:()=>{o({overlay:{type:"account",tab:"profile"}})}}]}}),[i.uid,o]),u=Ie.useMemo(()=>({key:"theme",commands:[{key:"theme.switch",icon:R.Modes,title:`Switch to ${c?"dark":"light"} mode`,keywords:["theme","dark","light"],trigger:()=>{let h=va(i.uid),C=c?"dark":"light";h.set({theme:C},{merge:!0}),ue({type:"account_edit_theme",theme:C})}}]}),[i.uid,c]),l=Ie.useMemo(()=>({key:"account",commands:[{key:"account.help",icon:R.HelpCircle,title:"Help & Feedback",trigger:()=>{e("help")}},{key:"account.signout",icon:R.Leave,title:"Sign Out",trigger:()=>{n()}}]}),[]),d=Ie.useMemo(()=>xe({variants:c?{color:"light"}:{color:"dark"},groups:[f,u,l]}),[c,f,u,l]);return Ht([u,l],[u,l]),Ie.createElement(Ie.Fragment,null,Ie.createElement(Ct,{testID:"sidebar.settingsButton",icon:R.Settings,size:"large",kind:"sidebar_blank",rounded:!0,palette:d}),Ie.createElement(za,null,r==="help"?Ie.createElement(yf,{onClose:()=>{e(null)}}):null))}a();var mo=P(x());function Sf(t){let{owner:r}=t,e=mo.useRef(null),n=at(e),{createSpace:o,createCollection:i}=lt(r),s=()=>{n.open(xe({groups:[{key:"owner",commands:[o?{key:"new_space",icon:R.Space,title:"New Space",subtitle:"Create a new document",trigger:async()=>{await o()}}:null,i?{key:"new_collection",icon:R.Collection,title:"New Collection",subtitle:"Group your spaces",trigger:async()=>{await i()}}:null].filter(we)}]}))},c=!o&&!i;return mo.createElement(Ha,{ref:e,testID:"sidebar.createButton",icon:R.Plus,kind:"primary",disabled:c,title:c?`You don\u2019t have permissions to create content in this organization
Ask an admin to update your role to "Creator"`:void 0,tooltipPreferredPlacement:"top",rounded:!0,onPress:s,animatedAngle:45,active:n.opened})}a();var qr=P(x());Z();function wf(t){let{owner:r,screenDiscover:e}=t,{getNavigationLinkProps:n}=ie(),{createSpace:o}=lt(r),i=gn("DISCOVERY_PAGE");return r.organization?qr.createElement(v,{style:[p.Padding.smallTop]},qr.createElement(Y,{kind:"secondary",icon:R.Download,...n({overlay:{type:"import",organization:r.organization}})},"Import content"),o?qr.createElement(Y,{kind:"secondary",icon:R.Template,...n({overlay:{type:"template",organization:r.organization,space:void 0}})},"Templates"):null,i?qr.createElement(Y,{kind:"secondary",active:e,icon:R.Bulb,...n({screen:{type:"discover",organization:r.organization}})},"Discover GitBook"):null):null}function Cf(t){let{owner:r,screenDiscover:e}=t,{compact:n}=Se.useContext(st),o=Se.createElement(rc,null),i=Se.createElement(v,{style:[I.flex1,n?p.Margin.mediumBottom:I.alignCenter]},Se.createElement(Sf,{owner:r}));return Se.createElement(Se.Fragment,null,n?null:Se.createElement(wf,{owner:r,screenDiscover:e}),Se.createElement(v,{style:[...n?[I.alignCenter,I.justifyContentEnd,I.flex1,p.Padding.smallHorizontal,p.Margin.mediumVertical]:[p.Padding.mediumHorizontal,p.Margin.mediumVertical]]},Se.createElement(v,{style:[...n?[I.directionColumn]:[I.directionRow,I.alignCenter,I.flex1]]},n?Se.createElement(Se.Fragment,null,i,o):Se.createElement(Se.Fragment,null,o,i),Se.createElement(v,{style:n?p.Margin.smallTop:null},Se.createElement(bf,null)))))}a();var Lt=P(x());Z();var Pf=M.L,Wm=He.createResponsiveComponent(ln);function Rf(t){let{compact:r}=Lt.useContext(st),[,e]=j(Gm),[,{open:n}]=Bt();return Lt.createElement(He.View,{style:[e.sidebarHeader,I.directionRow,I.alignCenter,I.justifyContentCenter,!r&&p.Padding.mediumHorizontal],mobileStyle:"hidden",desktopStyle:"visible"},Lt.createElement(v,{style:[I.flex1,r&&I.alignCenter]},Lt.createElement(he,{testID:"sidebar.findButton",icon:R.Search,size:"medium",kind:"sidebar_secondary",style:r?null:e.sidebarButton,alignItems:"start",rightIcon:r?void 0:()=>Lt.createElement(Wm,{tabletStyle:"hidden",desktopStyle:"visible",shortcut:mn.PALETTE_OPEN,kind:"primary"}),onPress:()=>n()},r?null:"Quick find")))}var Gm=re.create({sidebarHeader:t=>({height:Pf,maxHeight:Pf}),sidebarButton:{paddingRight:4}});a();var oe=P(x());Z();a();var Nt=P(x());Z();a();var ze=P(x());a();var ho=P(x());Z();function yr(t){let{owner:r,children:e,onDropHover:n,style:o}=t,[i,s]=Vo(r,{collect:c=>({hovered:c.isOver({shallow:!0})&&c.canDrop()})});return ho.createElement(dn,{ref:s,style:o,onDropHover:n,dropHovered:i.hovered},e)}function br(t){let{accept:r,owner:e,at:n}=t,[o,i]=Vo(e,{at:n,accept:[r],collect:s=>({hovered:s.isOver()&&s.canDrop()})});return ho.createElement(v,{style:qm.collectionDropLine},ho.createElement(ns,{ref:i,dropHovered:o.hovered,position:"top"}))}var qm=Xe.create({collectionDropLine:{position:"relative",zIndex:10}});function go(t){let{space:r,active:e,previousOrderIndex:n,nextOrderIndex:o,indent:i}=t,s=ze.useRef(null),[c,f]=tc(r),u=at(s),l=Jr(r),d=ma(r),{getNavigationLinkProps:h}=ie(),C=h({screen:{type:"space",space:r.key,organization:"organization"in r?r.organization:void 0,changeRequest:void 0,page:"/"}}),[,b]=ic(r),[g,w]=ac(r,{collect:_=>({hovered:_.isOver({shallow:!0})&&_.canDrop()})}),y=()=>{C.onPress()},E=Qe(Tr,{space:r,size:M.ICON_M,withBackground:!1},[r]),N=ze.createElement(ze.Fragment,null,f,ze.createElement(Y,{icon:E,active:e,...C,indent:i,buttonsVisibility:u.opened?"always":"hover",buttons:c.commands.length?[ze.createElement(he,{ref:s,icon:R.MoreVertical,kind:"sidebar_blank",size:"small",active:u.opened,onPress:_=>{_.preventDefault(),u.open(xe({groups:[c]}))}})]:void 0},r.title||en));return d?N:ze.createElement(dn,{ref:w,dropHovered:g.hovered,onDropHover:y},ze.createElement(br,{accept:"space",owner:l,at:{before:n,after:r.orderIndex}}),ze.createElement(fn,{ref:b},N),ze.createElement(br,{accept:"space",owner:l,at:{before:r.orderIndex,after:o}}))}function xf(t){let{indent:r=0,screenOrganization:e,screenSpace:n}=t,[o,i]=rt(vn("trash")),s=be(),{spaces:c}=Xs(e?{organization:e}:{user:s.uid}),[,f]=j(Xm),u=()=>{i(!o)};return c.length===0?null:Nt.createElement(v,{style:[f.borderTop,p.Padding.smallVertical]},Nt.createElement(Y,{opened:o,onToggle:u,indent:r,icon:R.Trashcan,onPress:u},"Trash"),o?Nt.createElement(Nt.Fragment,null,c.map(l=>Nt.createElement(go,{key:l.key,space:l,indent:r,active:l.key===n}))):null)}var Xm=re.create({borderTop:t=>({borderTopColor:t.colors.sidebar.itemBorder,borderTopWidth:1})});a();var pe=P(x());Z();a();var Of=P(x());function vo(t){let r=be(),{navigate:e}=ie(),n=Ys();return Of.createElement(Ct,{title:"Switch organization",icon:R.ChevronsVertical,kind:"sidebar_blank",size:"small",...t,palette:()=>Ym(r.uid,n,o=>{e({screen:o?{type:"root",organization:o.key}:{type:"home",organization:void 0}})},()=>{ue({type:"organization_open_create",reason:"sidebar_menu"}),e({overlay:{type:"welcome",organizationType:"business",hash:"sidebar_menu"}})})})}function Ym(t,r,e,n){return xe({groups:[r?{key:"personal",commands:[{key:t,title:"Personal",icon:De(yn,{userId:t}),trigger:()=>{e(void 0)}}]}:null,{key:"organizations",commands:()=>{let[o]=Be([Vt(t)]);return Be(o.map(s=>ot(s.organization))).filter(we).map(s=>({key:s.key,title:s.title,icon:De(_e,{org:s}),trigger:()=>{e(s)}}))}},{key:"organization-controls",commands:[{key:"create-organization",title:"Create an organization",icon:R.Organization,trigger:()=>{n()}}]}].filter(we)})}function Tf(t){let{organization:r,children:e}=t,n=Gs({organization:r.key}),[{result:o}]=Hs([ga(r.key)]),{getNavigationLinkProps:i}=ie(),s=ps(r,o),c=gn("UPGRADE_TRIAL_ALERT_DAYS"),f={organization:r.key},u=St(n,"admin-billing"),l=St(n,"add-guests"),d=Qe(_e,{org:r},[r]);return pe.createElement(Tn,{alert:[o&&Qm(o,c)&&u?pe.createElement(Zm,{organization:r,billing:o,canAdminBilling:u,featuresSet:s}):void 0,(o==null?void 0:o.status)==="past_due"&&u?pe.createElement($m,{organization:r}):null,l?pe.createElement(Km,{organization:r,billing:o}):null].filter(Boolean)[0]},pe.createElement(yr,{style:I.flexGrow1,owner:f},pe.createElement(Y,{kind:"heading",icon:d,buttonsVisibility:"always",buttons:[pe.createElement(vo,null)],...i({screen:{type:"home",organization:r.key}})},r.title),e))}function Km(t){let{organization:r,billing:e}=t,n=If(e);return pe.createElement($t,{title:"Invite your team",dismissable:"invite",action:pe.createElement(ct,{kind:"primary",size:"small",to:{overlay:{type:"org_invite",organization:r.key}}},"Invite teammates")},typeof n=="number"?pe.createElement(pe.Fragment,null,"Get the most out of your free trial by inviting your team."):pe.createElement(pe.Fragment,null,"Invite team members to your organization to enjoy the best of GitBook."))}function $m(t){let{organization:r}=t;return pe.createElement($t,{title:"Payment failed",action:pe.createElement(ct,{kind:"primary",size:"small",to:{overlay:{type:"org_settings",organization:r.key,tab:{type:"billing"}}},onPress:()=>{ue(Ao(r.key,{type:"organization_open_billing",reason:"sidebar_cta_past_due"}))}},"Update payment method")},"Your payment failed. Update your payment method to keep your organization active.")}function Zm(t){let{organization:r,billing:e,canAdminBilling:n,featuresSet:o}=t,[,i]=j(me),s=If(e),c=n?pe.createElement(ct,{kind:"upgrade",size:"small",to:{overlay:{type:"org_settings",organization:r.key,tab:{type:"plans"},hash:"sidebar_cta"}},onPress:()=>{ue(Ao(r.key,{type:"organization_open_upgrade",currentFeaturesSet:o,reason:"sidebar_cta"}))}},"Upgrade Now"):null;return pe.createElement($t,{title:"Your trial ends soon!",action:c},"Your trial ends"," ",pe.createElement(te,{style:[i.Bold]},s===0?"today":s===1?"tomorrow":`in ${s} days`),". Upgrade to keep access to premium features.")}function If(t){var n;let r=((n=t==null?void 0:t.trialEnd)==null?void 0:n.toDate())||new Date(0),e=Math.floor((r.getTime()-Date.now())/(24*60*60*1e3));return es(r),(t==null?void 0:t.status)==="trialing"?e:void 0}function Qm(t,r){if(t.status!=="trialing"||!t.trialEnd)return!1;let e=t.trialEnd.toDate(),n=new Date,o=1e3*60*60*24*r;return e.getTime()-n.getTime()<o}a();var vt=P(x());function Ef(t){let{children:r}=t,e=be(),{permissions:n}=Ut(),{getNavigationLinkProps:o}=ie(),i={user:e.uid},s=Object.keys(n.organizations).length>0,c=Qe(Wt,{user:e,squared:!0},[e]);return vt.createElement(Tn,{alert:s?null:vt.createElement(Jm,null)},vt.createElement(yr,{style:I.flexGrow1,owner:i},vt.createElement(Y,{kind:"heading",icon:c,buttonsVisibility:"always",buttons:[vt.createElement(vo,null)],...o({screen:{type:"home",organization:void 0}})},"Personal"),r))}function Jm(t){return vt.createElement($t,{title:"Get started!",dismissable:"create-organization",action:vt.createElement(ct,{kind:"upgrade",size:"small",to:{overlay:{type:"welcome",organizationType:"business",hash:"personal_user_cta"}},onPress:()=>{ue({type:"organization_open_create",reason:"personal_user_cta"})}},"Create an organization")},"Want to collaborate with others, unlock advanced custom branding, and explore new ways of sharing content?")}a();var Ve=P(x());a();var Yi=P(x());function Df(t){let{createSpace:r,createCollection:e}=lt(t);return Yi.useMemo(()=>({key:"owner",commands:[r?{key:"new_space",icon:R.Space,title:"New Space",trigger:async()=>{await r()}}:null,e?{key:"new_collection",icon:R.Collection,title:"New Collection",trigger:async()=>{await e()}}:null].filter(we)}),[r,e])}function _f(t){let{collection:r,active:e,indent:n,previousOrderIndex:o,nextOrderIndex:i,children:s}=t,c=Jr(r),f={...c,collection:r.key},u=Ve.useRef(null),l=at(u),d=Df(f),[h,C]=ec(r),[b,g]=rt(vn(r.key)),[,w]=oc(r),y=()=>{g(!0)},{getNavigationLinkProps:E}=ie(),N=E({screen:{type:"collection",collection:r.key,organization:"organization"in r?r.organization:void 0}});return Ve.createElement(yr,{owner:f,onDropHover:y},Ve.createElement(br,{accept:"collection",owner:c,at:{before:o,after:r.orderIndex}}),Ve.createElement(fn,{ref:w},C,Ve.createElement(Y,{active:e,...N,opened:b,onToggle:()=>g(!b),buttonsVisibility:l.opened?"always":"hover",buttons:[d.commands.length||h.commands.length?Ve.createElement(he,{ref:u,onPress:_=>{_.preventDefault(),l.open(xe({groups:[d.commands.length?d:null,h.commands.length?h:null].filter(we)}))},icon:R.MoreVertical,kind:"sidebar_blank",size:"small",active:l.opened}):null],indent:n},r.title)),b?Ve.createElement(Ve.Fragment,null,s):Ve.createElement(br,{accept:"collection",owner:c,at:{before:r.orderIndex,after:i}}))}a();var kf=P(x());function Af(t){let r=Ut(),e=Mt(Zs);kf.useEffect(()=>{if(!(t!=null&&t.type))return;let n=t.type==="space"?eh(r,t.space):Ki(r,t.collection);n.length>0&&e(o=>{let i=o;return n.forEach(s=>{i=i[s]?i:{...i,[s]:!0}}),i})},[r,e,t==null?void 0:t.type,t==null?void 0:t.space,t==null?void 0:t.collection])}function Ki(t,r){let e=t.collections.find(n=>n.key===r);return e?e.collection?[...Ki(t,e.collection),e.collection]:[]:[]}function eh(t,r){let e=t.spaces.find(n=>n.key===r);return e!=null&&e.collection?[...Ki(t,e.collection),e.collection]:[]}function Lf(t){let{screenOrganization:r,screenSpace:e,screenCollection:n}=t,{compact:o}=oe.useContext(st);return Af((e?{type:"space",space:e}:void 0)||(n?{type:"collection",collection:n}:void 0)),o?null:oe.createElement(oe.Fragment,null,oe.createElement(oe.Suspense,{fallback:null},r?oe.createElement(rh,{...t,screenOrganization:r}):oe.createElement(th,{...t})),oe.createElement(xf,{screenOrganization:r,screenSpace:e}))}function th(t){let r=be();return Or("Personal"),oe.createElement(Ef,null,oe.createElement($i,{...t,owner:{user:r.uid}}))}function rh(t){let{screenOrganization:r}=t,[e]=Fs([ot(r)]);return Or((e==null?void 0:e.title)||""),e?oe.createElement(Tf,{organization:e},oe.createElement($i,{...t,owner:{organization:e.key}})):null}function $i(t){let{indent:r=0,owner:e,screenSpace:n,screenCollection:o}=t,{spaces:i,collections:s}=qs(e,{includeOrphans:!0});return oe.createElement(oe.Fragment,null,i.map((c,f)=>{let u=f>0?i[f-1]:null,l=i[f+1];return oe.createElement(go,{key:c.key,space:c,active:n===c.key,previousOrderIndex:u?u.orderIndex:void 0,nextOrderIndex:l?l.orderIndex:void 0,indent:r})}),s.map((c,f)=>{let u=f>0?s[f-1]:null,l=s[f+1];return oe.createElement(_f,{key:c.key,collection:c,active:o===c.key,previousOrderIndex:u?u.orderIndex:void 0,nextOrderIndex:l?l.orderIndex:void 0,indent:r},oe.createElement($i,{...t,owner:{...e,collection:c.key},indent:r+1}))}),e.collection?null:oe.createElement(nh,{owner:e}))}function nh(t){let{owner:r}=t,{createSpace:e}=lt(r);return e?oe.createElement(v,{style:p.Margin.smallTop},oe.createElement(Y,{kind:"secondary",icon:R.Plus,indent:0,onPress:()=>{e()}},"New Space")):null}function Nf(t){let{screen:r}=t;return yt.createElement(oh,{screenOrganization:"organization"in r?r.organization:void 0,screenSpace:r.type==="space"?r.space:void 0,screenCollection:r.type==="collection"?r.collection:void 0,screenDiscover:r.type==="discover"})}var oh=yt.memo(function(r){let{screenOrganization:e,screenDiscover:n}=r,o=be();return yt.createElement(pn,{header:yt.createElement(Rf,null),footer:yt.createElement(Cf,{owner:e?{organization:e}:{user:o.uid},screenDiscover:n})},yt.createElement(Lf,{...r}))});a();var F=P(x());Z();function Mf(t){let{screen:r}=t,{compact:e}=F.useContext(st),n=Mt(Qs);return F.useEffect(()=>{e&&n(!0)},[e,n]),Or("Settings"),F.createElement(pn,{contrast:"low",header:F.createElement(ch,null),footer:F.createElement(lh,{organization:"organization"in r?r.organization:void 0})},F.createElement(ih,{screen:r}),F.createElement(ah,{screen:r}))}function ih(t){let{screen:r}=t,{getNavigationLinkProps:e}=ie(),n=be(),o=Qe(yn,{userId:n.uid},[n.uid]),i=s=>({...e({current:{type:"account",tab:s}}),active:r.type==="account"&&r.tab===s});return F.createElement(v,{style:[p.Padding.mediumVertical]},F.createElement(Y,{kind:"heading",icon:o,...i("profile"),active:!1},"Personal"),F.createElement(Y,{icon:R.Settings,...i("profile")},"Account"),F.createElement(Y,{icon:R.Bell,...i("notification")},"Notifications"),F.createElement(Y,{icon:R.Organization,...i("organizations")},"Organization"),F.createElement(Y,{icon:R.Integrations,...i("integrations")},"Integrations"),F.createElement(Y,{icon:R.Code,...i("developer")},"Developer Settings"))}function ah(t){let{screen:r}=t,e=Ws(),n=F.useRef(null),o="organization"in r?r.organization:n.current,i=F.useMemo(()=>e.filter(([,c])=>St(c.role,"admin-billing")).map(([c])=>c),[e]),s=F.useMemo(()=>(o?i.find(c=>c.key===o):null)||i[0],[o,i]);return s?(n.current=o,F.createElement(F.Fragment,null,F.createElement(os,null),F.createElement(v,{style:[p.Padding.mediumVertical]},F.createElement(sh,{screen:r,organization:s,organizations:i})))):null}function sh(t){let{screen:r,organization:e,organizations:n}=t,{navigate:o,getNavigationLinkProps:i}=ie(),s=Qe(_e,{org:e},[e]),c=u=>({...i({current:{type:"org_settings",organization:e.key,tab:u}}),active:r.type==="org_settings"&&r.organization===e.key&&r.tab.type===u.type}),f=()=>xe({groups:[{key:"organizations",commands:n.map(u=>({key:u.key,title:u.title,icon:De(_e,{org:u}),trigger:()=>{o({current:{type:"org_settings",organization:u.key,tab:{type:"profile"}}})}}))}]});return F.createElement(F.Fragment,null,F.createElement(Y,{kind:"heading",icon:s,...c({type:"profile"}),active:!1,buttonsVisibility:"always",buttons:[F.createElement(Ct,{size:"small",icon:R.ChevronsVertical,title:"Switch organization",kind:"sidebar_blank",palette:f})]},e.title),F.createElement(Y,{icon:R.Organization,...c({type:"profile"})},"General"),F.createElement(Y,{icon:R.Team,...c({type:"members"})},"Members"),F.createElement(Y,{icon:R.Sso,...c({type:"sso"})},"SSO"),F.createElement(Y,{icon:R.Integrations,...c({type:"integrations"})},"Integrations"),F.createElement(Y,{icon:R.Grid,...c({type:"plans"})},"Plans"),F.createElement(Y,{icon:R.ExternalLink,...c({type:"billing"})},"Billing"))}function ch(t){let[,r]=j(me);return F.createElement(v,{style:p.Padding.medium},F.createElement(te,{style:[r.Heading2,r.textSidebarActiveItem]},"Settings"))}function lh(t){let{organization:r}=t;return F.createElement(v,{style:p.Padding.medium},F.createElement(ct,{kind:"sidebar_blank",testID:"settings.closeButton",icon:R.ArrowLeft,to:{overlay:null,screen:{type:"root",organization:r}},size:"large"},"Return to the app"))}function Zi(){return k.useEffect(()=>{let t=document.querySelector(".gitbook-splashscreen");t==null||t.remove()},[]),k.createElement(ta,null,k.createElement(df,null,k.createElement(Lc,{...Yc},k.createElement(Xl,null,k.createElement(k.Suspense,{fallback:k.createElement(zf,null)},k.createElement(v,{style:[I.flex1,I.directionColumn]},k.createElement(Gc,null,k.createElement(cs,{persist:!0},k.createElement(zc,null,k.createElement(Ss,null,k.createElement(uh,null)))))),k.createElement(Kc,null))))))}function uh(){return Gl(),k.createElement(Us,null,k.createElement(nc,null,k.createElement(Ms,{Screen:fh,fallback:k.createElement(zf,null)}),k.createElement(vf,null),k.createElement(ds,null),k.createElement(ff,null),k.createElement(Yl,null),k.createElement(Kl,null)))}function fh(t){let{screen:r,isOverlay:e,isCurrent:n}=t;switch(gc(n?r.type==="space"&&r.revision?"bottom-right-with-bar":"bottom-right":void 0),r.type){case"root":return k.createElement(Rs,{screen:r});case"account":case"org_settings":return k.createElement(Mo,{sidebar:k.createElement(Mf,{screen:r}),screen:r},k.createElement(ws,{screen:r}));case"integrations":return k.createElement(Ts,{screen:r,isOverlay:e});case"account_verification":return k.createElement(Ds,null);case"org_join":return k.createElement(Is,{screen:r});case"org_invite":return k.createElement(Es,{screen:r,isOverlay:e});case"welcome":return k.createElement(Ps,{screen:r});case"quickstart":return k.createElement(Cs,{screen:r,isOverlay:e});case"template":return k.createElement(As,{screen:r,isOverlay:e});case"import":return k.createElement(Ls,{screen:r,isOverlay:e});case"back_office":return k.createElement(ms,{screen:r});case"legacy_account":return k.createElement(_s,{screen:r});case"legacy_space":return k.createElement(ks,{screen:r});case"contentkit_builder":return k.createElement(Ns,{screen:r});case"join":return k.createElement(zs,{to:{screen:{type:"root"}},replace:!0});default:return k.createElement(Mo,{sidebar:k.createElement(Nf,{screen:r}),sidebarCollapsable:!0,screen:r},k.createElement(dh,{screen:r}))}}function dh(t){let{screen:r}=t;switch(r.type){case"home":return k.createElement(xs,{screen:r});case"space":return k.createElement(bs,{screen:r});case"collection":return k.createElement(fs,{screen:r});case"discover":return k.createElement(Os,{screen:r});default:return k.createElement(Rr,{title:"Page not found"},"The page you are looking for does not exist.")}}function zf(){let[t]=j();return k.createElement(Ft,{backgroundColor:t.colors.background.muted,style:[I.flex1]},k.createElement(Aa,{size:"xlarge"}))}a();a();(function(){"use strict";var t="ListFormat"in Intl;function r(m,T){if(!(m instanceof T))throw new TypeError("Cannot call a class as a function")}function e(m,T){for(var S=0;S<T.length;S++){var O=T[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function n(m,T,S){return T&&e(m.prototype,T),S&&e(m,S),m}var o=["conjunction","disjunction","unit"],i=["long","short","narrow"],s=["lookup","best fit"];function c(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(S){return typeof S}:c=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},c(m)}function f(m){return typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?f=function(S){return c(S)}:f=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":c(S)},f(m)}function u(m){if(m==null)throw new TypeError("Argument ".concat(m," cannot be converted to an Object"));return typeof m=="boolean"?new Boolean(m):typeof m=="number"?new Number(m):typeof m=="string"?new String(m):f(m)==="symbol"?new Object(m):m}var l;function d(m){l=m}function h(){return l}function C(){if(l==null)throw new ReferenceError("Could not determine locale: No default locale has been configured");return l}var b=new WeakMap,g={relevantExtensionKeys:[],localeData:{},availableLocales:[]};function w(m,T,S){var O=b.get(m);O==null&&(O=Object.create(null),b.set(m,O)),O[T]=S}function y(m,T){var S=b.get(m);if(S==null)throw new ReferenceError("No internal slots has been allocated for the given instance of ListFormat");return S[T]}function E(m,T){var S=b.get(m);return S!=null&&T in S}var N=/-u(?:-[0-9a-z]{2,8})+/gi;function _(m){return m.replace(N,"")}function D(m,T){for(var S=T;;){if(m.includes(S))return S;var O=S.lastIndexOf("-");if(O===-1)return;O>=2&&S.charAt(O-2)==="-"&&(O-=2),S=S.slice(0,O)}}function ce(m,T){var S=[],O=!0,W=!1,G=void 0;try{for(var fe=T[Symbol.iterator](),K;!(O=(K=fe.next()).done);O=!0){var le=K.value,ee=_(le),ye=D(m,ee);ye!==void 0&&S.push(le)}}catch(Ee){W=!0,G=Ee}finally{try{!O&&fe.return!=null&&fe.return()}finally{if(W)throw G}}return S}function A(m,T){return ce(m,T)}function B(m){return typeof m=="string"||f(m)==="symbol"}function $(m,T){if(f(m)!=="object")throw new TypeError("Given argument ".concat(m," must be of type Object"));if(!B(T))throw new TypeError("Given argument ".concat(T," must be a PropertyKey"));return m[T]}function ge(m){return Boolean(m)}function L(m){return m+""}function U(m,T,S,O,W){var G=$(m,T);if(G!==void 0){if(S!=="boolean"&&S!=="string")throw new TypeError("Expected type ".concat(S," to be 'boolean' or 'string"));if(S==="boolean"&&(G=ge(G)),S==="string"&&(G=L(G)),O!==void 0&&!O.includes(G))throw new RangeError("Value ".concat(G," out of range for options property ").concat(T));return G}else return W}function Le(m,T,S){var O;return S!==void 0?(S=u(S),O=U(S,"localeMatcher","string",s,"best fit")):O="best fit",O==="best fit"?A(m,T):ce(m,T)}function ve(m){var T=m.availableLocales,S=m.requestedLocales,O=Object.create(null),W=!0,G=!1,fe=void 0;try{for(var K=S[Symbol.iterator](),le;!(W=(le=K.next()).done);W=!0){var ee=le.value,ye=_(ee),Ee=D(T,ye);if(Ee!==void 0){if(O.locale=Ee,ee!==ye){var Fe=ee.match(N);O.extension=Fe==null?"":Fe[0]}return O}}}catch(Kr){G=!0,fe=Kr}finally{try{!W&&K.return!=null&&K.return()}finally{if(G)throw fe}}var Ge=C();return O.locale=Ge,O}function Ue(m){return ve(m)}function yo(m,T,S,O,W){var G=S.localeMatcher,fe=G==="lookup"?ve({availableLocales:m,requestedLocales:T}):Ue({availableLocales:m,requestedLocales:T}),K=fe.locale,le=Object.create(null);le.dataLocale=K;var ee="-u";if(ee.length>2){var ye=String.prototype.indexOf.call(K,"-x-");if(ye===-1)K="".concat(K).concat(ee);else{var Ee=K.slice(0,ye),Fe=K.slice(ye);K="".concat(Ee).concat(ee).concat(Fe)}K=Intl.getCanonicalLocales(K)[0]}return le.locale=K,le}function bo(m){if(Array.isArray(m)){for(var T=0,S=new Array(m.length);T<m.length;T++)S[T]=m[T];return S}}function So(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}function wo(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Co(m){return bo(m)||So(m)||wo()}function Xr(m){if(m===void 0)return[];var T=Co(m);if(T.some(function(S){return typeof S!="string"}))throw new TypeError("All List items must be strings");return T}function Po(m){return Object.prototype.toString.call(m)==="[object Object]"}function Ro(m){return Array.isArray(m)||Po(m)}function Yr(m,T){for(var S=[],O=String.prototype.indexOf.call(m,"{",0),W=0,G=m.length;m[O]!==void 0;){var fe=String.prototype.indexOf.call(m,"}",O);if(fe<=O)throw new TypeError("Expected endIndex: ".concat(fe," to be greater than beginIndex: ").concat(O));if(O>W){var K=m.slice(W,O);S.push({type:"literal",value:K})}var le=m.slice(O+1,fe);if(T[Number(le)]==null)throw new TypeError("Expected placeables to have a part for PropertyKey: ".concat(le));var ee=T[Number(le)];if(Ro(ee.value)){var ye=!0,Ee=!1,Fe=void 0;try{for(var Ge=ee.value[Symbol.iterator](),Kr;!(ye=(Kr=Ge.next()).done);ye=!0){var Bf=Kr.value;S.push(Bf)}}catch(Uf){Ee=!0,Fe=Uf}finally{try{!ye&&Ge.return!=null&&Ge.return()}finally{if(Ee)throw Fe}}}else S.push(ee);W=fe+1,O=String.prototype.indexOf.call(m,"{",W)}if(W<G){var jf=m.slice(W,G);S.push({type:"literal",value:jf})}return S}function Sr(m,T){var S,O=T.length;if(O===0)return[];if(O===2){S=y(m,"templatePair");var W={type:"element",value:T[0]},G={type:"element",value:T[1]},fe={0:W,1:G};return Yr(S,fe)}for(var K={type:"element",value:T[O-1]},le=[K],ee=O-2;ee>=0;){ee===0?S=y(m,"templateStart"):ee<O-2?S=y(m,"templateMiddle"):S=y(m,"templateEnd");var ye={type:"element",value:T[ee]},Ee={type:"element",value:le},Fe={0:ye,1:Ee};le=Yr(S,Fe),ee--}return le}function xo(m,T){var S=Sr(m,T),O="",W=!0,G=!1,fe=void 0;try{for(var K=S[Symbol.iterator](),le;!(W=(le=K.next()).done);W=!0){var ee=le.value;O+=ee.value}}catch(ye){G=!0,fe=ye}finally{try{!W&&K.return!=null&&K.return()}finally{if(G)throw fe}}return O}function Oo(m,T){return Sr(m,T)}var We=function(){function m(){r(this,m);var T=arguments[0],S=arguments[1];if((this instanceof m?this.constructor:void 0)===void 0)throw new TypeError("Constructor Intl.ListFormat requires 'new'");var O=Intl.getCanonicalLocales(T);S=S===void 0?Object.create(null):u(S);var W=Object.create(null),G=U(S,"localeMatcher","string",s,"best fit");W.localeMatcher=G;var fe=U(S,"type","string",o,"conjunction");w(this,"type",fe);var K=U(S,"style","string",i,"long");w(this,"style",K);var le=g.localeData,ee=yo(g.availableLocales,O,W),ye=ee.dataLocale,Ee=le[ye],Fe=Ee.formats[fe],Ge=Fe[K];w(this,"templatePair",Ge.Pair),w(this,"templateStart",Ge.Start),w(this,"templateMiddle",Ge.Middle),w(this,"templateEnd",Ge.End),w(this,"locale",ee.locale),w(this,"initializedListFormat",this)}return n(m,[{key:"format",value:function(S){var O=this;if(!(O instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));if(!E(O,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.format called on incompatible receiver ".concat(this.toString()));var W=Xr(S);return xo(O,W)}},{key:"formatToParts",value:function(S){var O=this;if(!(O instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));if(!E(O,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.formatToParts called on incompatible receiver ".concat(this.toString()));var W=Xr(S);return Oo(O,W)}},{key:"resolvedOptions",value:function(){var S=this;if(!(S instanceof Object))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));if(!E(S,"initializedListFormat"))throw new TypeError("Method Intl.ListFormat.prototype.resolvedOptions called on incompatible receiver ".concat(this.toString()));var O=y(this,"locale"),W=y(this,"type"),G=y(this,"style");return{locale:O,type:W,style:G}}}],[{key:"supportedLocalesOf",value:function(S){var O=arguments[1],W=g.availableLocales,G=Intl.getCanonicalLocales(S);return Le(W,G,O)}},{key:"__addLocaleData",value:function(S){var O=S.data,W=S.locale,G=h();G==null&&d(W),g.localeData[W]=O,g.availableLocales.includes(W)||g.availableLocales.push(W)}}]),m}();Object.defineProperty(We.prototype,Symbol.toStringTag,{writable:!1,enumerable:!1,value:"Intl.ListFormat",configurable:!0});function bt(){if(typeof Intl>"u")throw new TypeError("Could not define Intl.ListFormat: Expected 'Intl' to exist. Remember to include polyfill for Intl.getCanonicalLocales before applying this polyfill");Intl.ListFormat=We}t||bt()})();a();"__addLocaleData"in Intl.ListFormat&&Intl.ListFormat.__addLocaleData({locale:"en",data:{formats:{conjunction:{long:{Pair:"{0} and {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, and {1}"},short:{Pair:"{0} & {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, & {1}"},narrow:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"}},disjunction:{long:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},short:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"},narrow:{Pair:"{0} or {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, or {1}"}},unit:{long:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},short:{Pair:"{0}, {1}",Start:"{0}, {1}",Middle:"{0}, {1}",End:"{0}, {1}"},narrow:{Pair:"{0} {1}",Start:"{0} {1}",Middle:"{0} {1}",End:"{0} {1}"}}}}});var Ff=P(qf());var Vf=!1;function Qi(){if(Vf)return;la({dsn:zt.sentry.dsn,release:ra,projectId:zt.firebase.projectId,tracesSampling:zt.sentry.tracesSampling,recordReplays:!0});let t=ph();Mc({customToken:t}),t&&window.history.replaceState({},"",window.location.pathname),Vf=!0}function ph(){let r=Ff.parse(window.location.search.slice(1)).auth_token;return Array.isArray(r)?r[0]:r}a();function Hf(t){document.readyState==="interactive"||document.readyState==="complete"?t():document.addEventListener("DOMContentLoaded",()=>{t()})}Hf(()=>{mh()});function mh(){Qi(),Io.registerComponent("Application",()=>Zi),Io.runApplication("Application",{rootTag:document.querySelector(".gitbook-root")})}
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.min.js:
  (**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=https://app.gitbook.com/public/app/app-LRENC2WL.min.js.map
